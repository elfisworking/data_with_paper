[2021-01-01 08:43:03] <amirensit> Hello.
[2021-01-01 08:44:54] <amirensit> I am not happy with spring projects documentation when using mobile. It seems the website is not responsive 
[2021-01-01 08:45:56] <amirensit> Difficult to navigate from sidebar to the content
[2021-01-01 16:24:01] <abhishekhbd> How to configure WebServiceTemplate or  WebServiceGatewaySupport for Ssl? I am using spring boot 2.3. any suggestion? I have not seen in spring document.
[2021-01-02 08:24:38] <mmaryo> Hello, do we have better performances by enabling https between Spring Boot app and Reverse Proxy ?
[2021-01-02 09:53:02] <XiaoZiShan> Everybody is good, I want to help a compatible springboot springcloud project 2.4, it USES the abandoned ConfigurationBeanFactoryMetadata, what new substitute for this class?
[2021-01-02 09:53:38] <XiaoZiShan>  [<-ISSUE->] 
[2021-01-02 09:54:56] <XiaoZiShan>  [<-ISSUE->] This is the issue of which open source project
[2021-01-02 10:02:01] <XiaoZiShan> Utility class to memorize {@code @Bean} definition metadata during initialization of
the bean factory.*
@author Dave Syer
@since 1.1.0
@deprecated since 2.2.0 in favor of {@link ConfigurationPropertiesBean}*/
[2021-01-02 10:03:12] <XiaoZiShan> Classes have on comments, the new class is ConfigurationPropertiesBean
[2021-01-02 13:15:24] <ojoadeolagabriel2> anyone understand the following:org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration': Unsatisfied dependency expressed through field 'propertySourceLocators'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'consulPropertySourceLocator' defined in class path resource [org/springframework/cloud/consul/config/ConsulConfigBootstrapConfiguration$ConsulPropertySourceConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Unexpected AOP exception; nested exception is org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.NoSuchMethodException: org.springframework.cloud.consul.config.ConsulPropertySourceLocator$$EnhancerBySpringCGLIB$$7e397a0b.<init>()
[2021-01-02 13:16:23] <ojoadeolagabriel2> really odd and happens only when i include spring cloud
[2021-01-03 16:48:42] <incrementdotca_twitter> Hello Team, Just a question about authentication.say I have a simple REST API, that takes inGET:/api/v1/todosPOST:/api/v1/todosPOST:/api/v1/todos requires authentication. is it best practice to put authentication code inside of my REST spring boot application? This will introduce something like /api/v1/authenticationdoes this make sense?
[2021-01-03 16:49:13] <incrementdotca_twitter> I am also looking at OAUTH2 with Google.
[2021-01-03 16:55:47] <amit-github-personal> What do you mean by authentication code, did you mean to say the logic for authenticating user? if that's what you mean then if you are using spring security you don't need to write any additional logic for authentication or authorization.If it's something that you want to do explicitly,  It's not a good practice to keep your logic inside your controller class, because a controller is meant to handle your request and delegate that request to some business days for a typical enterprise applications. If you're doing authentication on your won, in that cause you should never keep those logics inside your controller, It's recommended to create a separate class for that.
[2021-01-03 17:06:14] <amit-github-personal> If you want to see how you can implement spring security Oauth with google's authorization server, you can review this repository : [<-LINK->] 
[2021-01-04 00:01:16] <Michaelin007_twitter> Hello team, please I need the best documentation on consuming spring boot rest api with jquery. All a good documentation on thymeleaf and spring boot
[2021-01-04 09:29:36] <pcornelissen> Enabling HTTPS never improves performance. It drains your random generator and requires CPU cycles and memory for the decryption.
[2021-01-04 09:31:47] <pcornelissen> What kind of documentation do you need? When you have a REST API, then it’s a REST API, there is no special spring-boot related handling per se in your jquery application. Can you be more specific?
[2021-01-04 14:13:34] <thiagomatar_twitter> what's up guys! happy new year to everyone. After upgrading the spring cloud  from the Greenwich.SR3 version to the Hoxton.SR9 version, the sending of the HTTP request headers started append http-forwarded- *.I tried to disable this functionality in the spring configuration file but it didn't work. Does anyone have an idea of what's going on? [<-CODE->] 
[2021-01-04 14:33:22] <driverpt> Hey guys
[2021-01-04 14:33:41] <driverpt> i'm getting NPE in MutablePropertySources with WireMock
[2021-01-04 14:34:10] <driverpt>  [<-CODE->] 
[2021-01-04 14:34:14] <driverpt> anyone ever had this issue?
[2021-01-04 14:34:18] <driverpt> this is a bit random
[2021-01-04 14:56:29] <driverpt> This happens randomly between@SpringBootTestclasses
[2021-01-04 14:56:36] <driverpt> they are marked with@DirtiesContext
[2021-01-04 15:29:24] <wilkinsona> I've never seen that before. It would appear that there's anullproperty source or a source that's returning null fromgetName().
[2021-01-04 15:29:39] <driverpt> i noticed that :)
[2021-01-04 15:29:54] <driverpt> this is happening totally random
[2021-01-04 15:30:33] <driverpt>  [<-CODE->] 
[2021-01-04 15:30:40] <driverpt> this is what i have in my annotations
[2021-01-04 15:30:55] <driverpt> i'm pretty desperate :P
[2021-01-04 15:31:21] <wilkinsona> Can you set a breakpoint forNullPointerExceptionand see what state things are in when it's thrown?
[2021-01-04 15:31:26] <driverpt> i wanted to also create a PR to Spring Framework to switch fromgetName().equals(name)toObjects.equals(property.getName(), name)
[2021-01-04 15:31:33] <driverpt> it's only thrown in Maven
[2021-01-04 15:31:37] <driverpt> in IntelliJ it doesn't happen
[2021-01-04 15:31:51] <wilkinsona> You can still use a debugger when Surefire's running your tests
[2021-01-04 15:31:58] <driverpt> 1 sec
[2021-01-04 15:32:00] <driverpt> will try that
[2021-01-04 15:34:15] <snicoll> Please ask Spring Cloud-related questions on #spring-cloud.
[2021-01-04 15:41:37] <thiagomatar_twitter> thank you
[2021-01-04 16:20:22] <driverpt> funny, never happens ifXdebug and -Xrunjdwp......is set
[2021-01-04 16:57:46] <driverpt> and it's not Surefire, it's Failsafe
[2021-01-04 16:58:18] <snicoll> failsafe is part of surefire FWIW ( [<-LINK->] )
[2021-01-04 16:58:54] <driverpt> to me it's a separate plugin, as they are declared separately
[2021-01-04 22:26:24] <jnizet> Sorry if this is noise, and sorry for not being directly related to Spring Boot, but the latest release of Spring Cloud, which is the first one compatible with Boot 2.4, has been released 13 days ago, but is not listed in the project page on spring.io: [<-LINK->] still lists Hoxton.SR9 as the latest GA release.
[2021-01-05 04:39:38] <heesuk-ahn> Hi all, Would it be okay to ask a question about Spring messaging stomp?I am testing stomp performance using spring websocket starter.spring stomp uses ThreadPoolTaskExecutor for thread pool inbound and outbound channels.I am testing while increasing the core size of this thread pool, and the usage rate of websocket outbound and inbound active threads collected through micrometer is very low. (3%~5% level)Is there a reason the number of active threads is lower than expected?
[2021-01-05 06:43:50] <snicoll> Thanks JB. Have you considered reporting that to #spring-cloud?
[2021-01-05 06:44:25] <snicoll> (I have reported the problem internally regardless)
[2021-01-05 07:15:34] <jnizet> I looked for such a room in [<-LINK->] , but couldn't find any. Am I missing something?
[2021-01-05 07:16:15] <snicoll> search forspring-cloud/spring-cloud
[2021-01-05 07:18:17] <jnizet> Ah! I did miss something :-) Thanks. I will know in the future if needed, since you already reported the problem.
[2021-01-05 07:18:21] <snicoll>  [<-LINK->] 
[2021-01-05 07:18:26] <snicoll> Spring cloud is in its own org
[2021-01-05 07:18:36] <snicoll> I usually use the searcher in gitter, also confused if that helps :)
[2021-01-05 16:09:24] <OrangeDog> Ant paths - is it possible to write a capture pattern that also covers multiple directories? e.g. all paths that do not contain a..  This only matches a single part/foo/{path:[^.]+}
[2021-01-05 16:17:02] <OrangeDog> I think it's only available with PathPattern?
[2021-01-05 16:23:51] <OrangeDog> But PathPattern doesn't support regex...
[2021-01-05 16:28:44] <OrangeDog> I think I probably have to move some logic inside a single handler
[2021-01-05 17:35:35] <Nadavbi87> Hi all,Question about the spring test.I need to add SameSite Flag to my cookies,So I needed to convert all my response.addCookie(cookie)To addHeader("Set-Cookie.....), because it's not supporting this specific flag.Then I run my web layer test and all my web layer (using MockMvc) test that asserts cookies failed because there are no cookies, there is the only set-cookie header.My 1st question is,  it should be converted to cookie?My 2nd question is,In the real http servlet response addCookie just using adding new "Set-Cookie" header, but in the MockMvcHttpResponse its add the cookie to cookie array.And addHeader in MockMvcHttpResponse  is adding the Set-Cookie header.So I replaced the cookie assertion with the header assertion.But then  all my test that asserts multiple cookies ( or set-Cookie Header) failed, it seems that it only stores the last Set-Cookie  header that set ( in the print I do see that all the values that set cookie sets)So the question is, how should I test it ( or what am I doing wrong)?Spring Boot Version: 2.0.3.RELEASE ( Using same spring boot starter test)Thanks.
[2021-01-05 17:51:01] <mmaryo> HelloNothing appear at /swagger-ui.html with SpringDoc [<-CODE->] I use this dependencies [<-CODE->] Do you know how to activate SpringDoc with webflux ?
[2021-01-06 00:09:51] <ghahramani> Hey guys, is there a way to add rsocket metrics to promethues in spring boot out of the box like HTTP and other metrics?
[2021-01-06 07:35:41] <mmaryo> HelloI would like to tell more information about return typesfun post(request: ServerRequest): Mono<ServerResponse>does not give enough informationI tried to use ResponseEntity<T>fun post(request: ServerRequest): Mono<ResponseEntity<Result>>but the router do not accept itPOST("", ::post)do you have idea how to do it ?
[2021-01-06 08:42:05] <aucampia> hi, I'm trying to get [<-LINK->] working
[2021-01-06 08:42:33] <aucampia> but it does not work very well, I can't figure out where to get@RefreshScope
[2021-01-06 08:43:20] <mmaryo> Hello other questionBy switching to webflux all Jackson Serializer/Deserializer are desactivatedI added dependencyimplementation("com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.12.0")and also add a configuration, that is loaded at startup [<-CODE->] but it's not workingany idea ?
[2021-01-06 09:11:56] <bclozel> You should ask the project maintainers here: [<-LINK->] as this project is not maintained  by the Spring team
[2021-01-06 09:13:10] <bclozel> It's not supported yet: [<-ISSUE->] 
[2021-01-06 09:15:18] <bclozel> ServerResponseis part of the contract, and it's not like a response entity. I don't think there's a way to provide richer type information here, besides subclassingServerResponse(and I wouldn't see the point here)
[2021-01-06 09:16:33] <bclozel> Jackson serializers should work fine with Spring Boot and WebFlux and MVC. Since you're using kotlin, maybe the kotlinx serializer is in charge here instead of jackson?
[2021-01-06 09:44:33] <driverpt> try to add spring-boot-starter-json
[2021-01-06 09:45:44] <driverpt> 1 other thing
[2021-01-06 09:45:52] <driverpt> instead of LocalDateTime, use Instant :)
[2021-01-06 09:46:18] <driverpt> Instant already uses ISO UTC DateTime
[2021-01-06 11:15:49] <ghahramani> ah, damn, is there a workaround for it? we really need it, we went to production and now need metrics :D
[2021-01-06 11:43:32] <bclozel> A comment on the issue about the metrics you'd like to see and how yo'ure using RSocket in production would help.
[2021-01-06 12:38:55] <ghahramani> Sorry I didn't get what you asked? Are you saying I need to comment on the issue? [<-CODE->] 
[2021-01-06 13:00:05] <mmaryo> hello@bclozeland@driverpti remove@EnableWebFluxand jackson serialization works !this was helpfull [<-LINK->] 
[2021-01-06 13:01:02] <mmaryo> thank you@bclozelI'll write to spring boot github to ask about it
[2021-01-06 13:01:38] <mmaryo> thank you
[2021-01-06 13:03:49] <mmaryo> I would like to ask about HTTP/2 specifically
[2021-01-06 13:04:19] <mmaryo> maybe because encryption that have no sens to do it between micro services
[2021-01-06 13:33:41] <bclozel> Yes, you can comment on the issue with the metrics you're expecting. So here it seems to be mostly about server side metrics. We also have the RSocketRequester (client).
[2021-01-06 13:34:06] <bclozel> Getting feedback on it and your use case (or just votes) helps us to prioritize work
[2021-01-06 15:05:03] <bclozel> unless CPU is the bottleneck of your app, TLS is not really a huge cost (besides the time spent for the connection setup)
[2021-01-06 15:05:14] <bclozel> HTTP/2 can be interesting because of multiplexing
[2021-01-06 16:41:32] <ghost~5ff5e7e3d73408ce4ff82a26>  [<-LINK->] 
[2021-01-06 16:41:51] <ghost~5ff5e7e3d73408ce4ff82a26> Why I can't set 2.3.7 version ?
[2021-01-06 16:42:12] <snicoll> that’s just a tool in IJ. Your maven cache does not have the bits (yet).
[2021-01-06 19:44:03] <eduardoperez2151> HI guys, I have a question.I have two different databases, and i want use liquibase for those dbs (mongoDB and MYSQL).Do i need redefine datasources beans, and create two  SpringLiquibase beans?thanks in advance.Regards Eduardo.
[2021-01-07 09:56:41] <pcornelissen> Having to maintain TLS between services is not a small task. You need to handle key rotation and distribution etc. If you don’t trust your infrastructure there, you might check out ISTIO for example when you are running in Kubernetes, to be able to work in zero trust network scenario
[2021-01-07 10:06:34] <davebarda> I everyone, I dug over google search results, and couldn't find a solution to implement a overridable shared logback configuration for my microservices by creating a starter. Some of the posts I found on stackoverflow: [<-LINK->]  [<-LINK->]  [<-LINK->] Any solution for that? seems like it's a common issue..
[2021-01-07 10:32:16] <biergit> Hi everyone and happy new year :)Today I was surprised to find out that ListableBeanFactory#findAnnotationOnBean does not find annotations on implementation classes when the bean is not in scope SINGLETON. Is that behaviour documented somewhere?
[2021-01-07 10:49:01] <OrangeDog> I don't think it makes sense to list non-singleton beans, because there is an unbounded number of instances for each declaration
[2021-01-07 10:49:48] <OrangeDog> I suppose you could distinguish beans that could exist from beans that currently do exist
[2021-01-07 10:53:06] <biergit> Sorry I don't understand@OrangeDog. There only exists one bean at any point even if the bean is e.g. in Scope PROTOTYPE
[2021-01-07 10:53:50] <OrangeDog> No... every injecton point will receive a different instance
[2021-01-07 10:54:46] <biergit> Ah ok, but they will all have the same annotations, right?
[2021-01-07 11:01:16] <OrangeDog> It may depend on if and how they're being proxied. If there's an annotation on the implementation but it's declared with an interface, then it may not be detectable.
[2021-01-07 11:33:52] <biergit> Ah yes I get it. With a PROTOTYPE bean there could actually be different implementations depending on some conditions so the annotations of the implementation class cannot be known before the bean is actually created.
[2021-01-07 12:30:06] <mmaryo> thanks
[2021-01-07 12:32:44] <OrangeDog> The actual bean can be a class that's generated at runtime that either extends your class, or separately implements the declared interface.
[2021-01-07 12:33:49] <OrangeDog> Depending on what exactly that does, the generated class may not have any annotations.
[2021-01-07 12:52:20] <HaloFour> Does anyone know what the story is for the deprecatedWebClient.RequestHeaderSpec#exchangemethod?  Is the plan to remove that method entirely?  I understand that it's it can be a dangerous footgun and is a bit too easy to use but it's the only way to get to the raw response and to stream the response entity without it being automatically consumed/released by WebClient.
[2021-01-07 12:57:10] <biergit> OrangeDog: Also settingspring.aop.proxy-target-class=falseresults in failing at getting the annotations of the implementation class of a SINGLETON bean. Shouldn't that be supported by Spring / Spring Boot?
[2021-01-07 12:59:07] <bclozel> Could you share a gist/code snippet that shows what you're doing with #exchange right now? Maybe we can help and guide you. We recently added more methods because a community member pointed out that some use case was impossible to implement without #exchange.
[2021-01-07 13:03:25] <OrangeDog> No, if it's an interface-based proxy then nothing from the original class is available
[2021-01-07 13:06:55] <HaloFour> This is being used by a caching module that was written by some other members on my team, and it depends on passing a raw ClientResponse around, cloning it, generating one from cache, etc.
[2021-01-07 13:08:56] <HaloFour> I'm exploring ways that it can be refactored to no longer useexchangewithout having to refactor the rest to use something likeResponseEntity<Flux<DataBuffer>>viaretrieve().toEntityFlux(BodyExtractors.dataBuffers()), although that's probably a better approach.
[2021-01-07 13:11:31] <HaloFour> And mostly curious as to how pressing we should consider this refactor or if a method likeexchangewill be kept around as an escape hatch but made less easy to use accidentally (e.g. namingexchangeUnsafe())
[2021-01-07 13:12:14] <HaloFour> And on a related subject, if there are any plans to add caching support to WebClient to obviate the need of rolling our own? :)
[2021-01-07 13:12:47] <snicoll> that would probably be added on thePublisherrather than on web client specifically.
[2021-01-07 13:13:00] <snicoll> There has been some discussions in that area recently
[2021-01-07 13:14:36] <biergit> Ok, interesting@OrangeDog. Thanks for your time and explaining things :)
[2021-01-07 13:14:40] <HaloFour> Well we're looking for HTTP-specific caching that would understand and respect caching headers, like Apache HttpAsyncClient has (although with a little more flexibility/config)
[2021-01-07 13:15:21] <HaloFour> Reactive caching would be beneficial in its own right, though
[2021-01-07 13:15:58] <bclozel> It seems you were the one contributing this:spring-projects/spring-framework#26114
[2021-01-07 13:16:09] <bclozel> which is exactly what you should use here
[2021-01-07 13:17:12] <HaloFour> Yeah, that would get theResponseEntity<Flux<DataBuffer>>to use in place of aClientResponse.  If that's the recommendation I'll take that back to my team and we can try to run with that.
[2021-01-07 13:17:42] <bclozel> Now re: deprecation.Spring Framework 5.3 is the last of its generation, 6.0 being the next one. 5.3 will get an extended support. We will remove #exchange in 6.0. So that gives you plenty of time to update things in your apps, and 6.0 is a major upgrade anyway
[2021-01-07 13:21:14] <bclozel> Avoiding #exchange as soon as possible is your best bet, really. Even when you "know what you're doing" there are many cases where the cancellation/subscription to the response body is not done or propagated thoroughly. This results in memory leaks. They're hard to track. They're really bad.
[2021-01-07 13:22:32] <HaloFour> Definitely.  Although wouldn't the approach I mentioned above potentially have the same problem if you never consume the body?
[2021-01-07 13:31:01] <bclozel> Yes
[2021-01-07 13:37:00] <HaloFour> Cool, food for thought, thanks!
[2021-01-07 21:54:19] <mmaryo> Hello, is it a bug ?for a functional router [<-CODE->]  [<-CODE->] 
[2021-01-08 07:07:10] <mmaryo> correction :with return type Mono<Unit>
[2021-01-08 08:59:44] <bclozel> What is Unit?
[2021-01-08 09:03:02] <Esakkimuthu991> hello all, i need to implement shedlock for my springboot application. db-postgres
[2021-01-08 09:03:52] <Esakkimuthu991> facing error that "No qualifying bean of type 'javax.sql.DataSource' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}"
[2021-01-08 09:04:01] <Esakkimuthu991> Could anyone help on this
[2021-01-08 10:28:16] <pcornelissen> Well, do you have the database configured and the JDBC driver as dependency?
[2021-01-08 10:28:41] <pcornelissen> is the spring jdbc starter present?
[2021-01-08 10:30:32] <pcornelissen> Isn’t that the kotlin equivalent of Mono<Object> ?
[2021-01-08 10:39:56] <bclozel>  [<-LINK->] ? void?
[2021-01-08 10:42:57] <bclozel> anyway we need more info about method signatures here, apiService and what's therestype. It's hard to reason about code snippets without any type information
[2021-01-08 10:51:14] <Esakkimuthu991> yes i have dependency
[2021-01-08 13:39:40] <NicklasWallgren> Hey, does theorg.springframework.data.querydsl.SimpleEntityPathResolversupport thequerydsl.prefixoption? It seems to "only" supportquerydsl.suffix.
[2021-01-08 13:48:56] <OrangeDog> #spring-data may know better
[2021-01-08 13:55:52] <TrumanXia> hello everyone, i just wondering is there any resources talking about the design or source coding of spring boot? tks
[2021-01-08 14:10:19] <pcornelissen> ah, void yea I had not yet time to play with kotlin, just read a few things about it
[2021-01-08 17:05:34] <Krannthi> Hi, could a spring mvc (with jsps and js) project be converted to a spring-boot standalone app(jar), couldn't find the exact springboot doc.
[2021-01-08 17:15:30] <OrangeDog> It depends on what exactly is in there, but if you just make your parent the spring boot starter then it should work
[2021-01-08 17:16:04] <OrangeDog> May need to add some properties and a main() method, like in the getting started examples
[2021-01-08 17:18:46] <Krannthi> can we also use web.xml with the latest springboot version
[2021-01-08 17:24:44] <OrangeDog> I think so. See also [<-LINK->] 
[2021-01-10 17:41:36] <mikand13> When upgrading to spring-boot 2.4.1, the http server seems not to pick up server.port anymore. management.server.port is ok. Any ideas?
[2021-01-11 07:45:40] <snicoll> Nope.server.portis working fine for all ITs (and we have a lot of them). You may need to be a bit more specific (sharing a sample app is ideal).
[2021-01-11 11:06:29] <richalmish_gitlab> Hi, out of interest what Content Management System (CMS) do the Spring documentation sites use? For example: [<-LINK->] 
[2021-01-11 11:10:56] <nixel2007> Hello! Is anyone mention slow prototype bean creation in spring boot 2.4.1?details: I have a project (console based, environment=NONE, only base spring boot starter) with a lot of prototype bean creations at application runtime (not startup), ~15k of beans. I have one interface and near 150 different implemantions of it marked with [<-CODE->]  [<-CODE->]  [<-CODE->]  [<-CODE->] On flame graph I discovered problem (synchonized issue) at CommonAnnotationBeanPostprocessor.findResourceMetadatahttps://postimg.cc/3ywf5B6QComparison of:2.3.5: https://postimg.cc/HVdnQYLn2.4.1: https://postimg.cc/KKw4LtKhLooks like all bean creations on 2.3.5 took metadata from cache, while all creations at 2.4.1 have "cache miss" and are forced to recreate metadata.Any suggustions, tips?Thank you!
[2021-01-11 12:12:56] <wilkinsona> Thanks for the analysis thus far. That sounds worth reporting to the Framework team. Could you please open an issue ( [<-LINK->] ) and, ideally, provide a small project that reproduces the problem?
[2021-01-11 12:14:28] <wilkinsona> It's a custom Spring Boot app. It's open source: [<-LINK->] 
[2021-01-11 12:23:59] <nixel2007> sure, i'll post an issue. thanks for pointing!
[2021-01-11 12:59:33] <NirajBhattarai> I am the only one who is getting cloud config issue while updating from 2.1 to 2.4
[2021-01-11 12:59:41] <NirajBhattarai> clloud config not fecting the data
[2021-01-11 13:25:21] <richalmish_gitlab> wilkinsona: very interesting. Thank you
[2021-01-11 14:48:17] <akuma8>  [<-CODE->]  [<-CODE->] My configuration is: [<-CODE->] How to specify the base image?
[2021-01-11 14:49:30] <akuma8> Thanks
[2021-01-11 15:46:28] <AlbaSS18> Hello, I have post a question in stackoverflow. Maybe someone can help me to solve my problem: [<-LINK->] . Thank you very much
[2021-01-11 17:36:00] <wilkinsona> That's really a Paketo Buildpacks question better suited to their Slack channel: [<-LINK->] . The base image is generally determined by the builder that you us. They do have a tiny builder but I don't believe it contains enough to run a JVM-based application.
[2021-01-12 06:29:01] <amirensit> So jib is still more powerful than spring boot maven plugin ?
[2021-01-12 08:31:36] <bclozel> amirensit: It depends on your use case. Here, the Spring Boot plugin is merely delegating to buildpacks. You can select various stacks for buildpacks. There are also other features to consider. [<-LINK->] 
[2021-01-12 08:36:01] <amirensit> bclozel: okey, thanks for the clarification
[2021-01-12 09:39:02] <kobynet> @bclozelI'm using spring boot 2.4.1 and when i add the BufferingApplicationStartup like in the example and enable the startup endpoint, exception is thrown which says that BufferingApplicationStartup bean can't be found.Any idea how to solve this?
[2021-01-12 10:04:04] <bclozel> do you have a complete stacktrace to share? A sample application reproducing the issue?
[2021-01-12 10:22:04] <kobynet> I've got this:StartupEndpointAutoConfiguration matched: [<-CODE->] and12:20:31.216 [main] DEBUG o.s.b.d.LoggingFailureAnalysisReporter - Application failed to start due to an exceptionorg.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.context.metrics.buffering.BufferingApplicationStartup' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[2021-01-12 10:23:45] <kobynet> I do see that BufferingApplicationStartup is indeed a dependency of the startup endpoint... but how do i add it as bean since it's created before context is even started
[2021-01-12 10:34:55] <bclozel> following the sample you linked to and setting theBufferingApplicationStartupon the application context should be enough
[2021-01-12 10:59:13] <kobynet> ok after debugging a bit, seems like i found the root cause, i am using BootstrapApplicationListener  which build the application context again but ignores the previous applicationStartup, so it sets the default, this is a bug in spring-cloud-context:3.0.0
[2021-01-12 14:39:23] <ghahramani> Hey guys, I am struggling with this for last 2 days, any help would be appreciated. I am getting UnknownHostException even for google.com in weblient reactive [<-CODE->] and the error is: [<-CODE->] 
[2021-01-12 15:06:05] <bclozel> Could you check [<-ISSUE->] 
[2021-01-12 15:20:00] <OrangeDog> Something wrong with your DNS
[2021-01-12 15:44:19] <ghahramani> James: it is not because the example below works [<-CODE->] 
[2021-01-12 15:56:59] <ghahramani> Brian: thanks it works
[2021-01-13 05:27:30] <alexdeveng> Hi folks! Could you tell me please what is the default serialization in spring mongo data serialization? Is it Jackson or a different internal implementation? thanks
[2021-01-13 06:38:35] <aucampia> how do I get the default configuration for log4j?
[2021-01-13 08:52:24] <nightswimmings> Hi! Can somebody give me a hand with this silly question? Id be surprised to find this need cannot be fulfilled currently in the framework: [<-LINK->] 
[2021-01-13 13:57:52] <ghahramani> 
[2021-01-13 14:10:17] <ghahramani> Hey guys, I am facing a strange problem, cannot figure out what is going on. It is related to RSocket and WebClient togetherSo what I am trying to achieve is, Creating a stream of data from retrieving the data via RSocket and stream that data to an endpoint via Webclient. So This is my codeRSocket: [<-CODE->] WebClient: [<-CODE->] But the problem is, it seems when I use the Publisher that came from RSocket, the body that want to send to WebClient will be empty and zero length and I get error below: [<-CODE->] But if I change the body any other Publisher it works without any problem [<-CODE->] To: [<-CODE->] 
[2021-01-13 21:02:58] <Krannthi> Hi, can JSP's be used with embedded tomcat server, I am trying to convert a Spring-mvc app to Spring-boot and see that code blocks in JSP's are not being executed. Saw this doc as well [<-LINK->] 
[2021-01-14 04:55:57] <Krannthi> Based on this doc [<-LINK->] , we could only run a standalone springboot app with JSP's using war packaging, Is that correct or Is there a way we could run it as a jar as well
[2021-01-14 08:12:51] <aucampia> what implementation of javax.ws.rs.client.Client should I use with spring?
[2021-01-14 10:35:56] <OrangeDog> The one you generate?
[2021-01-14 13:00:50] <fullstackcaptain> java.io.FileNotFoundException: class path resource [org/springframework/boot/autoconfigure/web/ServerPropertiesAutoConfiguration.class] cannot be opened because it does not exist
[2021-01-14 13:01:03] <fullstackcaptain> how to resolve it?
[2021-01-14 13:12:14] <ghahramani> I found a strange thing, when the rsocket security gets involved I get that error, but if I remove the RSocket dependencies and remove the code below, it started working [<-CODE->] 
[2021-01-14 13:35:03] <OrangeDog> Ensure it exists
[2021-01-14 14:00:22] <KuSh> Hello, when enabling spring security while modifying spring.webflux.base-path the following configurationhttp.authorizeExchange().matchers(EndpointRequest.to(HealthEndpoint.class, InfoEndpoint.class)).permitAll();doesn't seem to work anymore and I get 401 when trying to access to actuator endpoint
[2021-01-14 14:45:05] <odchan1_twitter> The answer is true but this was the most hilarious comment that I've read today.I can't stop laughing :)Loved it.
[2021-01-14 15:05:31] <bclozel> this should be supported as of [<-ISSUE->] - could you create a new issue with a sample project reproducing this problem?
[2021-01-14 15:06:58] <KuSh> It seems to work as expected after further tests
[2021-01-14 15:07:13] <KuSh> I'll let you know ! Thanks@bclozel
[2021-01-14 15:13:58] <akuma8> Thanks for these details, I think I'll keep using Jib until having an easy way to customize the base image with Spring Boot plugin.
[2021-01-14 15:20:58] <bclozel> our docs are correct, this is a known limitation of JSPs
[2021-01-14 15:21:39] <KuSh> The probe was using /<base-path>/actuator that was working with no security but is now returning 401 ! After using /<base-path>/actuator/health this is working as expected !! Thanks a lot for your availability and fast answer !
[2021-01-14 15:21:54] <KuSh> much appreciated
[2021-01-14 15:22:14] <bclozel> Cool, I'm glad things are working for you now
[2021-01-14 15:26:19] <Krannthi> ok, so I should still be able to run a .war artifact as a standalone app right
[2021-01-14 15:34:01] <Krannthi> and is there a replacement for JSP incase I wanted to use .jar packaging
[2021-01-14 15:35:50] <bclozel> you can use template engines such as Thymeleaf
[2021-01-14 15:36:44] <Krannthi> ok, does running .war artifact as a standalone app have any restrictions with JSPs
[2021-01-14 15:38:41] <bclozel> Not that we know of. But it can depend on the container, the EL implementation, etc.
[2021-01-14 15:42:48] <Krannthi> ok, by standalone app I meant, using embedded container (tomcat in our case), I wasn't referring to deploying to a web server. were u also thinking along the same lines
[2021-01-14 15:59:39] <bclozel> yes, I think this case is covered is the docs you pointed to, isn't it?
[2021-01-14 16:00:46] <Krannthi> yes, I just wanted to confirm my understanding, Thanks for taking time !!
[2021-01-15 01:27:27] <ControlByDestiny> Hello, how to reload the configuration file when the application is running at production environment
[2021-01-15 03:08:20] <ghahramani> Solution (Maybe): [<-CODE->]  [<-CODE->] So this works, but I am not sure this is the best solution as it is just a workaround. I think the framework should not throw that error. I let the spring security guys decide about it.
[2021-01-15 03:39:04] <Krannthi> I had to include tomcat-embed-jasper dependency to get JSP's compiled and working based on online tutorials, Is that the correct way, I couldn't find any springboot docs on this.
[2021-01-15 10:07:58] <OrangeDog> You need Spring Cloud Config
[2021-01-15 11:45:05] <aucampia> I have some member variables that I want to initialize from some other property values, but I'm not sure how to do it
[2021-01-15 13:29:20] <code-uri> Hello.  I am using gradle task bootBuildImage. It is stuck at 83%.2021-01-15T18:58:29.264+0530 [LIFECYCLE] [org.gradle.cache.internal.DefaultFileLockManager]2021-01-15T18:58:29.264+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.2021-01-15T18:58:29.265+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.2021-01-15T18:58:29.265+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.2021-01-15T18:58:29.266+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire shared lock on daemon addresses registry.2021-01-15T18:58:29.266+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.2021-01-15T18:58:29.266+0530 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.<==========---> 83% EXECUTING [28s]:bootBuildImage
[2021-01-15 13:29:32] <code-uri> anyhelp ?
[2021-01-15 13:32:31] <fouzelddin> what is your operating system ?
[2021-01-15 14:00:13] <code-uri> macbook bigsur
[2021-01-15 14:07:11] <code-uri> this is the debug log2021-01-15T19:35:44.147+0530 [LIFECYCLE] [class org.gradle.internal.buildevents.TaskExecutionLogger] > Task :bootBuildImage2021-01-15T19:35:44.148+0530 [DEBUG] [org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter] Putting task artifact state for task ':bootBuildImage' into context took 0.0 secs.2021-01-15T19:35:44.148+0530 [INFO] [org.gradle.internal.execution.steps.ResolveCachingStateStep] Caching disabled for task ':bootBuildImage' because:  Build cache is disabled2021-01-15T19:35:44.148+0530 [DEBUG] [org.gradle.internal.execution.steps.SkipUpToDateStep] Determining if task ':bootBuildImage' is up-to-date2021-01-15T19:35:44.149+0530 [INFO] [org.gradle.internal.execution.steps.SkipUpToDateStep] Task ':bootBuildImage' is not up-to-date because:  Task has not declared any outputs despite executing actions.2021-01-15T19:35:44.149+0530 [DEBUG] [org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter] Executing actions for task ':bootBuildImage'.2021-01-15T19:35:44.281+0530 [QUIET] [system.out] Building image 'nexus.aimlabs.in/athena:4.0.0-SNAPSHOT'2021-01-15T19:35:44.281+0530 [QUIET] [system.out]2021-01-15T19:35:44.290+0530 [DEBUG] [org.apache.http.client.protocol.RequestAddCookies] CookieSpec selected: default2021-01-15T19:35:44.295+0530 [DEBUG] [org.apache.http.client.protocol.RequestAuthCache] Auth cache not set in the context2021-01-15T19:35:44.296+0530 [DEBUG] [org.springframework.boot.buildpack.platform.docker.transport.LocalHttpClientTransport$LocalConnectionManager] Get connection for route {}->docker://localhost:23762021-01-15T19:35:44.301+0530 [DEBUG] [org.apache.http.impl.conn.DefaultManagedHttpClientConnection] http-outgoing-0: set socket timeout to 02021-01-15T19:35:44.302+0530 [DEBUG] [org.apache.http.impl.execchain.MainClientExec] Opening connection {}->docker://localhost:23762021-01-15T19:35:44.307+0530 [DEBUG] [com.sun.jna.Native] Looking in classpath from VisitableURLClassLoader(ClassLoaderScopeIdentifier.Id{coreAndPlugins:settings:/Users/raghu.koduri/aimlabs/github/athena/buildSrc:root-project(export)}) for /com/sun/jna/darwin/libjnidispatch.jnilib2021-01-15T19:35:44.307+0530 [DEBUG] [com.sun.jna.Native] Found library resource at jar:file:/Users/raghu.koduri/.gradle/caches/jars-8/41929eb2c2a540ef1db4846d9402f55c/jna-5.5.0.jar!/com/sun/jna/darwin/libjnidispatch.jnilib2021-01-15T19:35:44.307+0530 [DEBUG] [com.sun.jna.Native] Extracting library to /Users/raghu.koduri/Library/Caches/JNA/temp/jna14509577599213894383.tmp2021-01-15T19:35:44.309+0530 [DEBUG] [com.sun.jna.Native] Trying /Users/raghu.koduri/Library/Caches/JNA/temp/jna14509577599213894383.tmp2021-01-15T19:35:44.483+0530 [DEBUG] [com.sun.jna.Native] Found jnidispatch at /Users/raghu.koduri/Library/Caches/JNA/temp/jna14509577599213894383.tmp2021-01-15T19:35:44.494+0530 [DEBUG] [com.sun.jna.NativeLibrary] Looking for library 'c'2021-01-15T19:35:44.494+0530 [DEBUG] [com.sun.jna.NativeLibrary] Adding paths from jna.library.path: null2021-01-15T19:35:44.494+0530 [DEBUG] [com.sun.jna.NativeLibrary] Trying libc.dylib2021-01-15T19:35:44.495+0530 [DEBUG] [com.sun.jna.NativeLibrary] Found library 'c' at libc.dylib2021-01-15T19:35:44.507+0530 [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] Connecting to localhost/127.0.0.1:23762021-01-15T19:35:44.507+0530 [DEBUG] [org.apache.http.impl.conn.DefaultHttpClientConnectionOperator] Connection established2021-01-15T19:35:44.507+0530 [DEBUG] [org.apache.http.impl.execchain.MainClientExec] Executing request POST /v1.24/images/create?fromImage=docker.io%2Fpaketobuildpacks%2Fbuilder%3Abase HTTP/1.12021-01-15T19:35:44.507+0530 [DEBUG] [org.apache.http.impl.execchain.MainClientExec] Target auth state: UNCHALLENGED2021-01-15T19:35:44.508+0530 [DEBUG] [org.apache.http.impl.execchain.MainClientExec] Proxy auth state: UNCHALLENGED2021-01-15T19:35:48.777+0530 [DEBUG] [org.apache.http.impl.execchain.MainClientExec] Connection can be kept alive indefinitely2021-01-15T19:35:50.558+0530 [LIFECYCLE] [org.gradle.cache.inter
[2021-01-15 14:07:52] <code-uri> java -versionopenjdk version "14.0.1" 2020-04-14OpenJDK Runtime Environment (build 14.0.1+7)OpenJDK 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)
[2021-01-15 14:08:41] <code-uri> this is my docker versiondocker versionClient: Docker Engine - Community Cloud integration  0.1.18 Version:           19.03.13 API version:       1.40 Go version:        go1.13.15 Git commit:        4484c46d9d Built:             Wed Sep 16 16:58:31 2020 OS/Arch:           darwin/amd64 Experimental:      falseServer: Docker Engine - Community Engine:  Version:          19.03.13  API version:      1.40 (minimum version 1.12)  Go version:       go1.13.15  Git commit:       4484c46d9d  Built:            Wed Sep 16 17:07:04 2020  OS/Arch:          linux/amd64  Experimental:     false containerd:  Version:          v1.3.7  GitCommit:        8fba4e9a7d01810a393d5d25a3621dc101981175 runc:  Version:          1.0.0-rc10  GitCommit:        dc9208a3303feef5b3839f4323d9beb36df0a9dd docker-init:  Version:          0.18.0  GitCommit:        fec3683
[2021-01-15 14:09:34] <andreysaksonov> hello, how one can pass builpack parameters when usingbuild-imagegoal in spring-boot-maven-plugin ? I need to provide custom ca certificate to this buildpack layer [<-LINK->] 
[2021-01-15 14:10:17] <fouzelddin> can you go to the System Preference -> network and check if you have a proxy configured on your device or even on your network
[2021-01-15 14:11:06] <andreysaksonov> actually, it is same question as [<-LINK->] 
[2021-01-15 14:26:52] <code-uri> There is no proxy configured.
[2021-01-15 14:29:09] <code-uri> i am suspecting the issue with docker.
[2021-01-15 15:32:53] <wilkinsona> We don't yet support bindings in our Maven and Gradle plugins. We hope to add support in Boot 2.5: [<-ISSUE->] 
[2021-01-15 15:33:08] <andreysaksonov> ok, thanks!
[2021-01-15 15:41:40] <fouzelddin> can you try to"jstack"the build process so we can detect where it's stuck excatly
[2021-01-15 17:09:52] <MastaP> Hi, we’re trying to use RSocket over WebSocket with Mutual-TLS between clients and servers. X509 for websockets is not supported byReactiveSpring Security yet.We need a workaround to read a HTTP header containg the client certificate to make a decision whether to accept or reject the initial WebSocket connection (for RSocket) inReactiveSpring Boot server app. Any suggestions?
[2021-01-16 15:57:44] <AkshayP36> Hi Team, I am new to open source and started learning spring boot recently. I wish to start contributing to the open source community. Can someone please help me with how should I start withing this group? Appreciating if someone can share any learning roadmap specific to the project.
[2021-01-16 16:46:52] <mambang:matrix.org> 
[2021-01-16 18:29:02] <kobynet> Hi, got an issue with spring boot 2.4.1 (also 2.4.2) when loading configuration from consul using the new import mechanism (spring.config.import=consul:). Issue is everything is working but the logic is not as stated in the docs here https://docs.spring.io/spring-cloud-consul/docs/3.0.0/reference/html/#config-data-importRunning with the default profile, the config contributors has wrong order, it overrides the application specific values with the defaultContext values instead of the opposite.
[2021-01-16 18:40:07] <leccelecce> Hi Spring Boot team! Thank you for your continued excellent work. I was wondering when Spring Boot might see a Jackson dependency upgrade to 2.12? It's got native support for records which is helpful. As of Boot 2.4.2 we're still on 2.11. In theory Jackson say there is full backward compatibility
[2021-01-16 22:13:25] <Whitecode97> Hi, team. I'm totally new to spring boot, any aid and suggestions will be appreciated.
[2021-01-17 11:03:30] <wilkinsona> We've upgraded to 2.12.0 for 2.5 M1. It isn't fully backwards compatible. Seespring-projects/spring-boot#24415.
[2021-01-18 05:21:09] <siddanthsagar> Hi Team, I wish to start contributing. Can someone help or mentor me..
[2021-01-18 09:07:36] <wilkinsona> AkshayP36: @siddanthsagarThank you for your interest in contributing. We occasionally have issues that are specifically for first-time contributors. In those issue we do our best to explain what changes need to be made and how to make them and to answer any questions that you may have along the way. We don't have any first-timers issues at the moment, but please keep an eye out for them [<-LINK->] .
[2021-01-18 11:10:34] <leonard84> Hi, is there any issue with reusing aResponseEntityin a@RestController? I have a fixed value and would like to return it repeatedly without recreating the wrapper.
[2021-01-18 11:18:30] <leccelecce> So you have! I searched Issues for 2.12.0 but nothing came up but now I see there is a pull request, apologies for missing it
[2021-01-18 12:04:52] <lzadrija> Hello, I'm not sure if this is the right conversation, but:is there a way to get the request body of a request that timeouted with org.springframework.web.context.request.async.AsyncRequestTimeoutException?For example, I was not able to get the request body in a method annotated with@ExceptionHandler(AsyncRequestTimeoutException.class)I'm using Spring MVC.
[2021-01-18 12:10:15] <Ziemowit> Hey, I have a question. I have noticed some issues during performance tests.I have increased the thread pool on tomcat to 400:And /actuator/metrics/tomcat.threads.config.max gives me [<-CODE->] But in tomcat logs I all the time see: [<-CODE->] I mean that for "exec-[number]" the max value is always 100. Shouldn't be 400?Do I understand it incorrectly?My issue is somehow server is not able to handle more than X request nevertheless that processors have still capacity, the same apache and requests are processed as you can see in 8ms.So trying to find the bottelneck.
[2021-01-18 12:37:30] <MastaP> Help would be much appreciated. With web requests intercepting http headers is easy using WebFilters, but how to intercept a header upon web socket connection?
[2021-01-18 13:36:38] <Ziemowit> Okey seems it was an issue related to the default Locust HTTP client. After the change to FastHttpUser, everything speeds up in an incredible way. But the question stays. When I set the 400 threads in Tomcat, the http-nio-... shouldn't be up to 400? Or this configuration is not related to this Thread Pool?
[2021-01-18 13:55:05] <siddanthsagar> wilkinsona: Thank you for your kind response. If any team needs support I am available. I am having 6 years of IT experience as developer.
[2021-01-18 14:46:15] <wilkinsona> That should be fine
[2021-01-18 14:52:35] <wilkinsona> I'm not sure if the request body's supposed to be available at that point. The underlying container may have cleaned things up as a result of the timeout occurring.How did you try to get the request body and how did it fail? Also, which container are you using?
[2021-01-18 14:54:27] <wilkinsona> It's a max of 400 threads. It may be that the load wasn't high enough to warrant creating more than 100. Did you observe the queue filling up waiting for threads to be available to handle a request?
[2021-01-18 15:28:50] <schosin> Probably not the best place, but is it possible that the application startup can change when using a maven dependency in Eclipse depending on whether its loaded from another opened project or maven local? With the opened project my application loads a config, does a@ConditionalOnBeancheck (fails) and then loads the bean that was checked. When closing that project and loading the same dependency from maven local, the conditional is checked after the bean was created, thus matching
[2021-01-18 15:31:35] <schosin> To clarify:Eclipse: ConfigA is loaded, then ConfigB checks whether BeanA exists, then ConfigA created BeanAMaven: ConfigA is loaded, BeanA is created, ConfigB checks whether BeanA exists
[2021-01-18 19:27:23] <Ziemowit> Clear. Just not all threads are created from the beginning. Thank you for your response!
[2021-01-18 20:16:29] <wilkinsona> Where are you using@ConditionalOnBean? It should only be used in an auto-configuration class to ensure that it's processed after any "normal/user" configuration has been processed. If it needs to react to the presence or absence of beans defined by another auto-configuration, it should also use@AutoConfigureAfterto ensure that it's processed after the other auto-configuration.
[2021-01-18 20:17:57] <wilkinsona> If you're using@ConditionalOnBeanin a normal configuration class and none of the required ordering in place, then you're at the mercy of the classpath and the order in which files are found on disk. That could well change depending on whether they're coming from a jar file or a directory.
[2021-01-18 20:31:36] <Krannthi> I have a spring-mvc app that maps request for the url "/x.htm" to  "/x" mapping, but I see thats not the case on converting to spring-boot. I also had to updgrade the spring version. did any of this change with spring upgrade
[2021-01-19 06:52:09] <jnizet> See [<-ISSUE->] 
[2021-01-19 09:01:46] <schosin> It's some older code that has a AutoConfiguration which just has a@ComponentScanon the artifacts "root" package, finding a bunch of regular@Configurationwhich have the conditional annotations.
[2021-01-19 09:02:21] <schosin> Would it be better to rework all@Configurationto AutoConfigurations instead?
[2021-01-19 09:27:25] <wilkinsona> They don't all need to be auto-configurations, but using@ComponentScanwhen there are ordering requirements isn't recommended.@ComponentScanwill find things in a varying order depending on the classpath and the file system. I'd have one or more entry points that are auto-configuration classes listed inspring.factoriesand then use@Importto pull in other configuration classes as needed. The order I which classes are declared in@Importwill always be honoured.
[2021-01-19 09:30:51] <schosin> Thanks for the answer. I feel like@Importis the better solution for our use case.
[2021-01-19 10:51:55] <B-hamza> Hello, i'm trying to understand how to make a "listener like" using spring core, a light spring library for an (mq/http/...) listener, simplifying the header and body converting arguments and using a listener annotation. using my own Java listener lib, looking for any documentation about the subject.
[2021-01-19 10:52:21] <snicoll> Hello. Not strictly a Spring Boot related question butspring-messaginghas an abstraction for that
[2021-01-19 10:53:49] <snicoll> You could start looking atMessageMappingand the various implementations for RSocket and websocket in the Spring Framework code base.
[2021-01-19 10:54:28] <snicoll> MessageandMessageHeadershave the necessary abstraction for payload and headers.
[2021-01-19 10:54:45] <snicoll> org.springframework.messaging.Messagethat is.
[2021-01-19 11:37:45] <MastaP> Okay, finally managed to read the header and reject the connection by throwing an exception [<-CODE->] 
[2021-01-19 11:40:04] <MastaP> wilkinsona: could you please check if this is a proper way of doing that. Another question is how to propagate 401 Unauthorized http status instead of the current 502 from the ConnectionObserver?
[2021-01-19 12:07:59] <wilkinsona> I don't know. I'm not much of a WebSocket expert.
[2021-01-19 13:22:10] <B-hamza> Many thanks, i'll take a look at those subjects :)
[2021-01-19 15:52:18] <MastaP> Maybe@smaldinicould help? Please excuse my persistence, I just want to avoid crossposting this topic into different channels.I’ve also tried overridingReactorNettyRequestUpgradeStrategy, but this class does not seem to be triggered in my app when web socket connection is being established.
[2021-01-19 16:24:19] <bclozel> I'm not super familiar with that particular subject either. But wouldn't configuring the client authentication on the SSL context enough?
[2021-01-19 16:35:05] <AndyBurdett> Hi,Kotlin question for you...I'm trying to use the Kotlin DSL for spring security in spring boot 2.4.0 but everything inside the http block is unrecognised. I have included the spring-boot-starter-security dependency is there anything else I need to add to my pom? [<-CODE->] 
[2021-01-19 16:41:10] <MastaP> bclozel: the spring app is not exposed to the internet, it sits behind a load balancer (haproxy) and the app receives already non-tls traffic after termination on LB.We cannot check client certs on haproxy due to the dynamic nature of the truststore inside our app, thus haproxy forwards the client cert in a http header which we need to validate when the connection is being established
[2021-01-19 16:42:44] <MastaP> For REST API requests we’ve solved this with a web filter, with RSocket connections we need to hook into WebSocket stuff
[2021-01-19 18:27:52] <wilkinsona> You may find more Spring Security Kotlin DSL expertise in [<-LINK->] 
[2021-01-19 19:49:41] <AndyBurdett> Problem solved I was missing an import [<-CODE->] 
[2021-01-19 19:56:05] <AndyBurdett> No amount of prompting would force Intellij to import it for me.
[2021-01-19 22:22:21] <Krannthi> What are the differences in deploying a springboot war to a tomcat server and running it as a executable war. Is one way preferred over other
[2021-01-20 08:12:49] <lzadrija> Hello,I am sorry for the late response.I tried this to try to get the body of the response: [<-CODE->] and this: [<-CODE->] -> Reading from InputStream returned empty result.-> Autowiring of the @RequestBody failed with exception: [<-CODE->] 
[2021-01-20 08:30:34] <wilkinsona> An executable war gives you more control as you're not reliant on someone else maintaining a version of Tomcat that's configured correctly to meet your application's needs. Instead, everything is in the war file and all you need is for Java to be installed. This makes deployment easier and less error-prone. Executable wars (or jars) are the recommended approach.
[2021-01-20 10:29:23] <Rebaiahmed> Hello guys , I have a question about SchedulingConfigurer
[2021-01-20 10:29:34] <Rebaiahmed> spring boot dynamic scheduling
[2021-01-20 10:32:03] <Rebaiahmed> I want to make dynamic schedule  which take care fo cron expresssion update
[2021-01-20 10:46:09] <mmoayyed> Hello room. Does the spring configuration-metadata generation process (based on Spring Boot 2.4.2) take into account@DefaultValueannotations when generating the metadata json? Seems like default-values which are defined statically as constants are take into account, and no more.
[2021-01-20 10:50:11] <peterluttrell_twitter>  [<-CODE->] I'm actually trying to solve a different problem with setting up a custom HTTP listener, which I should be able to figure out what I need once I know where this is getting set.
[2021-01-20 11:00:10] <wilkinsona> Boot doesn't set it. The port is allocated by the operating system. The embedded container binds to port 0 which tells the OS to allocate an available ephemeral port.
[2021-01-20 11:01:28] <peterluttrell_twitter> Gotcha.. That explains when my exhaustive search couldn't find it.
[2021-01-20 11:01:31] <peterluttrell_twitter> Many thanks.
[2021-01-20 11:04:14] <wilkinsona> The annotation processor looks for@DefaultValueon constructor parameters
[2021-01-20 12:55:52] <MastaP> bclozel: and, as I mentioned above, Spring Security does not support configuring x509 (or any other auth) for WebSockets in WebFlux yet, here’s the issue [<-ISSUE->] 
[2021-01-20 13:05:35] <OlegDokuka> We have an example on how to do so with a raw rsocket here -> [<-LINK->] 
[2021-01-20 13:05:51] <OlegDokuka> But I’m not sure that is going to be easy with spring
[2021-01-20 13:48:52] <MastaP> Thanks, @OlegDokuka! It actually gave me some ideas and I was able to return correct 401 http status instead of 502: [<-CODE->]  [<-CODE->] 
[2021-01-20 13:53:48] <MastaP> Alternative, more readable version: [<-CODE->] 
[2021-01-20 14:35:55] <MastaP>  [<-CODE->]  [<-CODE->] in the log which is not pretty
[2021-01-20 14:42:18] <mmoayyed> Thank you Andy!
[2021-01-20 14:58:28] <FazilSog> hello guyswhen I try a get quesry on post ( local env) I've got the following error , someone could tell me the reasonThis is my configuration class/codeimport org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.context.annotation.EnableAspectJAutoProxy;import org.springframework.context.annotation.Scope;import org.springframework.context.annotation.ScopedProxyMode;import org.springframework.web.filter.CommonsRequestLoggingFilter;/**Configuration de la webapp, en complément du fichier xml qui permet de garder la configuration en aop de la gestion des transactions*/@Configuration@EnableAspectJAutoProxypublic class WSWebappConfiguration {/**
Logger*/private static final Logger LOGGER = LoggerFactory.getLogger(WSWebappConfiguration.class);

/**
Création du bean contexteUtilisateur qui permet de stocker des informations sur chaque request*
@return ContexteUtilisateur*/@Bean@Scope(value = "request", proxyMode = ScopedProxyMode.TARGET_CLASS)public ContexteUtilisateur contexteUtilisateur() {LOGGER.trace("Construction du ContexteUtilisateurBack");return new ContexteUtilisateur();}
[2021-01-20 14:59:14] <FazilSog> the error is20/01/2021 15:16:55.556 [ERROR] ws_aa_be -[http-nio-8080-exec-1]-   - 225111291 - o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] threw exceptionorg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.contexteUtilisateur': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:365)at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:672)at fr.acoss.ws_aa.technique.contexte.ContexteUtilisateurEnhancerBySpringCGLIBEnhancerBySpringCGLIBEnhancerBySpringCGLIB8b11f257.setUuid(<generated>)at fr.acoss.ws_aa.api.technique.configuration.filter.UuidFilter.doFilter(UuidFilter.java:51)at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)at fr.acoss.ws_aa.api.technique.configuration.filter.PrismeAuthenticationFilter.doFilter(PrismeAuthenticationFilter.java:97)at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
[2021-01-20 15:16:10] <Krannthi> Thanks
[2021-01-20 15:23:11] <Krannthi> I am using springBoot 2.3.3 starter which is pulling in jackson 2.11.2, When deserializing json, I see that jackson is trying to map the first key in json to the variable name on the endpoint ,  com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name 'status' does not match expected, this is the json passed {"status": "example"}, I am not configuring any jackson parameters. It seems to unwrap the first key as root, is that the default behaviour
[2021-01-20 15:40:40] <jnizet> Please post the code of the class you're trying to deserialize. A test with what you expect and what you get instead would be helpful understanding and reproducing your issue, too.
[2021-01-20 15:42:24] <MastaP> But I’m a bit sceptical about direct channel manipulation as it might leave some resources hanging, time will tell
[2021-01-20 15:50:09] <Krannthi> this is the Controller layer
[2021-01-20 15:50:10] <Krannthi> RequestMapping: (value = "/status", method = RequestMethod.POST, consumes = { "application/json" })@ResponseBodypublic String call(@RequestBodyPostData data,final HttpServletRequest pobjRequest,final HttpServletResponse pobjResponse)
[2021-01-20 16:18:04] <Krannthi>  [<-CODE->] //getters and setters}
[2021-01-20 16:18:45] <Krannthi> there are no annotations on this class
[2021-01-20 17:35:52] <jnizet> That doesn't help much. Your method expects a PostData instance, but you posted the code of DeviceSemiData, and the code isn't even complete. Post the actual, complete code of PostData.
[2021-01-20 17:45:54] <jnizet> It would also help to have the code of Status.
[2021-01-20 18:04:40] <Krannthi> RequestMapping: (value = "/status", method = RequestMethod.POST, consumes = { "application/json" })@ResponseBodypublic String call(@RequestBodyDeviceSemiData data,final HttpServletRequest pobjRequest,final HttpServletResponse pobjResponse)
[2021-01-20 18:05:36] <Krannthi> it is actually 'DeviceSemiData', I just changed the name before putting it out here
[2021-01-20 18:13:35] <Krannthi> public class DeviceSemiData {    private Card card;    private SaleRequest saleRequest;    private SaleResponse saleResponse;    private DeviceInfo deviceInfo;    private CommitTransaction commitTransaction;    private SemiStatus status; [<-CODE->] }
[2021-01-20 19:09:10] <Krannthi> It seemed to work if I added a objectMapper to the context, not sure what else was missing before
[2021-01-20 19:09:20] <Krannthi> @Bean@Primarypublic ObjectMapper objectMapper(){ObjectMapper mapper = new ObjectMapper();return mapper; [<-CODE->] 
[2021-01-20 19:12:21] <Krannthi> I am converting a spring-mvc app to spring-boot, I added all the config, but does spring-boot also have the concept of root-context and web-application context as in mvc.
[2021-01-20 19:20:25] <jnizet> Doing that will disable all the default modules and settings set by Spring Boot. Why don't you simply post your code, as requested?
[2021-01-20 19:25:29] <Krannthi> thats the dto u requested right, do u want the code inside the controller method ?
[2021-01-20 19:25:49] <Krannthi> Its failing before executing the method right
[2021-01-20 19:27:16] <jnizet> I said, above: "Post the actual, complete code of PostData.It would also help to have the code of Status."
[2021-01-20 19:31:13] <Krannthi>  [<-CODE->] 
[2021-01-20 19:32:11] <Krannthi> public class DeviceSemiData {private Card card;private SaleRequest saleRequest;private SaleResponse saleResponse;private DeviceInfo deviceInfo;private CommitTransaction commitTransaction;private SemiStatus status; [<-CODE->] 
[2021-01-20 19:32:37] <Krannthi> public enum SemiStatus {ONLINE, INITIATE, SALE_REQUEST,CARD_DATA, CONFIRM, CONFIRMED,}
[2021-01-20 19:34:36] <jnizet> The value you pass in your JSON for the status property is "example". But this property is of type SemiStatus. And SemiStatus can only have the values ONLINE, INITIATE, SALE_REQUEST,CARD_DATA, CONFIRM,  and CONFIRMED.
[2021-01-20 19:35:31] <Krannthi> So,Jackson is expecting ‘DeviceSemiData’ in the json request to /swipe
[2021-01-20 19:38:44] <Krannthi> It happened on passing {"status":"ONLINE"}
[2021-01-20 19:51:38] <jnizet> I used the code you posted, verbatim (creating empty classes for the other properties), using the version of Spring Boot you're using, in a project created by Spring initializr and using the default properties and dependencies, and I can't reproduce your exception. You'll have to post a complete demo project reproducing the issue.
[2021-01-20 19:55:58] <Krannthi> So do u think its something my code is overriding
[2021-01-20 19:59:49] <bclozel> I see that in a different thread, you're saying that you're working on migrating an app from vanilla spring mvc to spring boot. If that's the case here this is most likely due to configurations overriding the opinion brought by Spring Boot and not related to a particular Jackson issue. A minimal project showing the problem would help.
[2021-01-20 20:16:04] <Krannthi> ok
[2021-01-20 20:34:25] <Krannthi> I found a class in a dependency that is extending the ObjectMapper class, springboot would add this class to context right ?
[2021-01-20 20:52:32] <Krannthi> and it is added as a component, it has this property setDeserializationFeature.UNWRAP_ROOT_VALUE, true
[2021-01-20 20:54:01] <Krannthi> that should cause this right
[2021-01-21 06:38:05] <aurelien-baudet> Hello,I work on a project that integrates with Spring Boot.I would like to suggest this module to be part of Spring Boot modules (available in start.spring.io for example).I don't find the information anywhere. How can I achieve that ?Thank you
[2021-01-21 08:25:10] <bclozel> You can start by submitting a PR to get listed here: [<-LINK->] 
[2021-01-21 10:56:09] <wilkinsona> You can create a context hierarchy, but the vast majority of Boot apps use a single application context.
[2021-01-21 11:49:57] <konstantinblaesi> can a resttemplate interceptor add request body parameters?
[2021-01-21 11:57:41] <wilkinsona> what's a request body parameter? the interceptor is given the body as abyte[]. It can manipulate the body in anyway it wants.
[2021-01-21 12:01:27] <konstantinblaesi> I am calling an api that expects some credentials as body parameters of a application/x-www-form-urlencoded encoded POST request
[2021-01-21 12:01:47] <konstantinblaesi> It would be nice to have an interceptor adding them for all requests
[2021-01-21 12:04:40] <konstantinblaesi> Maybe I just need to use a base class for the requests and add the credentials there
[2021-01-21 12:13:01] <wilkinsona> Yeah, an interceptor sounds too low-level for that
[2021-01-21 14:55:15] <Krannthi> Any specific docs on that
[2021-01-21 15:07:37] <philippart-s> Hi, is there a way to redirect the embeded undertow server to the stdout ? Thanks ;)
[2021-01-21 19:43:20] <Krannthi> I see that getPathInfo() on HttpServletRequest object returns 'null' and not the controller endpoint mapping in springboot. getPathInfo() is expected to get the path after the servlet-mapping right. does that change in sprignboot
[2021-01-21 21:57:27] <wilkinsona> On creating a context hierarchy? Take a look atSpringApplicationBuilderand its javadoc.
[2021-01-21 22:00:37] <Krannthi> yeah thanks
[2021-01-21 22:01:23] <Krannthi> I had this question on the chat incase u have time have a look at this. I see that getPathInfo() on HttpServletRequest object returns 'null' and not the controller endpoint mapping in springboot. getPathInfo() is expected to get the path after the servlet-mapping right. does that change in sprignboot
[2021-01-21 22:03:45] <wilkinsona>  [<-CODE->] A string containing only the ’/’ character indicates the "default" servlet of the application. In this case the servlet path is the request URI minus the context path and the path info is null.
[2021-01-21 22:31:25] <Krannthi> If I deploy a spring-mvc app to a application server and set a context-path, getPathInfo() should still be null right
[2021-01-22 10:34:15] <wilkinsona> It depends entirely on the mapping you use for the dispatcher servlet
[2021-01-22 13:56:33] <sta-szek> hi guys, we have upgraded spring-boot from 2.3.4 to 2.3.5 and we have noticed that our shutdown hook is not working properly anymore.i try to debug why but cannot find answer, also release notes seems not to be breaking changes: https://github.com/spring-projects/spring-boot/releases/tag/v2.3.5.RELEASEthe hook class: [<-CODE->]  [<-CODE->] and i see all logs (inclufing Close application) in logsit works with spring boot 2.3.4
[2021-01-22 14:20:06] <sta-szek> maybe i call it wrong, it is notShutdown hookbut rather@PostConstructwhich callsSystem.exit(0)
[2021-01-22 14:26:53] <wilkinsona> Sounds like there's a shutdown hook that hasn't finished and is preventing the JVM from exiting. A thread dump should help to identify what it's doing.
[2021-01-22 14:29:14] <sta-szek> yep i will do it, just wanted to know if there is any well-known issue / solution
[2021-01-22 14:31:29] <wilkinsona> I haven't heard of anyone else with the same problem
[2021-01-22 16:56:10] <Asky-GH> Hi guys! Does anybody know why in spring-boot 2.4.2 + spring-cloud-vault-config 3.0.0 LeaseAwareVaultPropertySource no longer logs INFO messages when the supplied Vault location is not resolvable: Not found?For instance, in older version when using legacy processing with bootstrap.yml file if I add some vault path with a typo LeaseAwareVaultPropertySource logs such message in the console output:2021-01-20 18:14:25.281 INFO 21488 --- [ main] o.s.v.c.e.LeaseAwareVaultPropertySource : Vault location [secret/app/some-vault-path-with-a-typo] not resolvable: Not found.But with spring.config.import approach it doesn't.
[2021-01-22 17:09:03] <wilkinsona>  [<-LINK->] is probably a better place for that one
[2021-01-22 17:16:14] <Asky-GH> https://gitter.im/spring-cloud/spring-cloud is probably a better place for that oneThank you!
[2021-01-23 02:31:30] <Asky-GH> Suppose I have a application.yml file like this [<-CODE->] If I run my application with prod profile active or add VM options like -Dserver.port=8443 -Dspring.config.import=vault://secret/app/some-other-path the server.port property will be overwritten but spring.config.import is not. I mean application uses both Vault paths.I wanted to ask if it is intended behavior.
[2021-01-23 09:48:06] <wilkinsona> Yes, that's intended. Imports are considered while processing the files, whereas "normal" properties likeserver.portare added to the environment. The environment holds a single value for any given property so one will always win.
[2021-01-23 12:01:02] <stephenpatten> hello spring-boot-gitters. sb 2.4.2  soap1.2 / mtom web service with cxf, where's the proper place to set the max request and response sizes?  The candidate right now seems to be this property spring.servlet.multipart.max-request-sizethank you,stephen
[2021-01-24 17:52:01] <edreyer> Hey all. Just updated to Spring Boot 2.4.2 from 2.3.6 and started getting the following error on one of our unit tests:Error creating bean with name '<name of bean>': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'local.server.port' in value "${local.server.port}"
[2021-01-24 17:52:37] <edreyer> I tried fixing this a bunch of ways, including adding this annotation as the class level of that test,@TestPropertySource(properties = "server.port=8080")
[2021-01-24 17:53:47] <edreyer> ourapplication.ymlfile also contains: [<-CODE->] 
[2021-01-24 17:55:22] <edreyer> The test definition: [<-CODE->] 
[2021-01-24 18:45:22] <edreyer> OK, found the problem. If the field annotated with@LocalServerPortis in the parent class, under some (unknown) conditions, Spring will fail to properly set that field.
[2021-01-24 19:43:53] <wilkinsona> Glad to hear you found the source of the problem. On the face of it, that behaviour sounds like a bug to me. If you're able to reproduce it in a small sample, it'd be great if you could open an issue so we can take a look.
[2021-01-25 08:09:38] <ask4gilles> Hello,I'm upgrading to 2.4.2. Regardingspring.config.import, how can one use it without using spring profiles?We are using environment variables and, for example, we don't use HC Vault locally, but well in upper env.In the configuration below, I need only the config import if vault is enabled. [<-CODE->] 
[2021-01-25 08:26:53] <ask4gilles> Found it :spring.config.import=optional:vault://, neat one
[2021-01-25 11:27:10] <nightswimmings> Hi! System properties don't seem to be properly fetched when placed as application.yml properties. Is this a behaviour by design or am I facing some local issue?
[2021-01-25 11:37:24] <wilkinsona> I'm not sure I follow. You're using a property placeholder inapplication.ymlthat references a system property and it isn't working somehow?
[2021-01-25 11:44:56] <nightswimmings> Hi Andy. No, I am just setting the property in the application.yml, as if it were a spring/app property
[2021-01-25 12:01:40] <wilkinsona> Properties inapplication.ymldon't become system properties. They're added to Spring'sEnvironmentbut won't appear inSystem.getProperties()
[2021-01-25 12:20:58] <nightswimmings> And I guess they won't have effect either then. I mean if I set up something like java.awt.headless  (I know there is the headless() builder option on SpringApp, but just for the example's sake) in my application.yml and I dont provide any override through env_vars or the like, it is not gonna be processed by the system.
[2021-01-25 12:39:53] <wilkinsona> Correct.headless()ultimately results in a call toSystem.setPropertywhich is why it takes effect. Generally speaking, if something has to be configured using a system property, you'll have to set that property yourself either in code or using-Don the command line.
[2021-01-25 13:33:31] <Asky-GH> Andy, could you please take a look at this issue? [<-ISSUE->] 
[2021-01-25 14:03:25] <jfsanchez_gitlab> Hi, Is there any example on how to start a new traceId on every new Kafka event received/processed, using Reactor Kafka and Spring Cloud Sleuth? I would like to have a new traceId per event, so every further processing (e.g http calls to other services) has a separate traceId for each event.
[2021-01-25 14:31:29] <edreyer> On further analysis, the test is passing locally, and in our CircleCI environent (both using our 'default' profile inapplication.yml), but the test fails for the reason I outlined when GithubCI runs it's own checks (also using default profile).  I'm still trying to figure that out.
[2021-01-25 14:40:15] <anuragdhunna> @Query(value = "SELECT SUM(CASE WHEN transaction.commission_type != 'Self' THEN transaction.transaction_point ELSE 0 END) AS transaction_points, COUNT(DISTINCT transaction.entity_id) AS referral_count FROM transaction " +            " WHERE transaction.partner_id_to =:partnerId AND transaction.entity_type =:entityType AND transaction.entity_id !=:partnerId GROUP BY transaction.partner_id_to ", nativeQuery = true)    Object getTotalEarningsViaReferralsAndLevelOneReferralCount(String partnerId, String entityType);is there any better way to write this query in a more readable manner?
[2021-01-25 16:49:45] <a1dutch> Hi, i'm trying to get access to the spring Environment instance in a custom logback Action (like the springProfile Action), is there any way to do this?  we are trying to do some conditional appenders based on some properties or classes on the classpath
[2021-01-25 17:36:43] <Krannthi> I seem to need two configurations of object mapper as some apis need 'root_value' wrapped and other properties, so Is there a way I could get the default object mapper injected by springboot as a 'Primary' bean, so this is used unless@Qualifieris used for a specialized one
[2021-01-25 17:37:59] <Krannthi> I just tried to inject new Object Mapper() as a default Primary bean and I see that final field in a dto is getting serialized, does springboot default mapper avoid such defaults
[2021-01-25 17:41:42] <JesterHead101_twitter> Anyone have an idea how to resolve this :Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.2:repackage (repackage) on project booting-web: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:2.4.2:repackage failed: Unable to find main class -> [Help 1]
[2021-01-25 17:42:58] <JesterHead101_twitter> My pom.xml: [<-CODE->] 
[2021-01-25 17:47:14] <wilkinsona> Not easily, no.SpringProfileActionis plugged in bySpringBootJoranConfiguratorwhich is package-private and called byLogbackLoggingSystemfrom a private method. You'd have to copy-paste quite a bit of code to extend that behaviour. We could look at opening up someprotectedmethods onLogbackLoggingSystem, but I'm not sure how generally useful it would be. Please feel free to open an issue and we can take a look.
[2021-01-25 17:48:13] <wilkinsona> Do you have a class insrc/main/javathat's annotated with@SpringBootApplicationand has apublic static void main(String[] args)method?
[2021-01-25 17:48:53] <wilkinsona>  [<-LINK->] is better place for that one.
[2021-01-25 17:49:18] <wilkinsona> You'll find more Spring Data expertise in [<-LINK->] 
[2021-01-25 17:52:56] <yrashish> Hi,
[2021-01-25 17:54:07] <yrashish> How to push an image to a remote container registry with mvn spring-boot:build-image
[2021-01-25 19:42:58] <scottfrederick> There’s an example in the docs: [<-LINK->] 
[2021-01-25 20:03:36] <Krannthi> does jackson serialize a final field, I am using spring-boot 2.3.7 and jackson 2/11.3 and I see that a final field in a dto is getting serialized, where as it doesn't in springboot 2.3.3 and jackson 2.11.2. the jackson version is bought in by spring-boot-starter
[2021-01-25 20:50:00] <a1dutch> thanks for confirming, i had checked all those classes and there seemed no easy way like you said.  i opened [<-ISSUE->] 
[2021-01-25 22:15:52] <jnizet> Without specific code explainign what you expect to happen and what you get instead, it's hard to know what you mean. This test passes with both 2.3.7 and 2.3.3: [<-CODE->] Please, try to come up with a test , just like I have above, that clearly shows what you mean.
[2021-01-25 22:22:58] <nightswimmings> Thanks Andy! Not to be unpolite, but is there any reasonal for this? Is there any preventing idea for allowing systemproperties being set up from application.yml? I mean,it is much more nicer and centralized than having System.setProperties call scattered accross the code
[2021-01-26 10:06:55] <yrashish> There’s an example in the docs: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#build-image-example-publishThis is it. Thank you
[2021-01-26 10:22:34] <mistahenry>  [<-CODE->]  [<-CODE->]  [<-CODE->]  [<-CODE->] 
[2021-01-26 12:29:09] <urmet> hello. I'm trying to get./gradlew bootBuildImageto work withouth mounting hostdocker.sock. I've been at it for hours now, but there seems to be absolutely no way to configure it to connect to docker daemon over tcp instead. is it impossible or am I blind? :(
[2021-01-26 13:04:46] <wilkinsona> It should honour yourDOCKER_HOSTenvironment variable
[2021-01-26 13:14:06] <urmet> it absolutely does not
[2021-01-26 13:14:30] <urmet> always complaining about not being able to access /var/run/docker.sock
[2021-01-26 13:15:24] <urmet> looking at the code, it seems to be hardcoded to mount that file in every case
[2021-01-26 13:16:21] <urmet> bootBuildImage {
  environment = ["DOCKER_HOST": "tcp://127.0.0.1:2376"]
  docker {
    host = "tcp://127.0.0.1:2376"
  }
  verboseLogging = true
}
[2021-01-26 13:16:59] <urmet> also exported DOCKER_HOST outside build.gradle. and as soon as I disable my local docker.sock, it breaks
[2021-01-26 14:12:56] <wilkinsona> bootBuildImage'senvironmentcontrols the environment used when building the image, i.e. it's the environment in the Docker container in which the image building occurs. You need to configureDOCKER_HOSTin the shell where you're running Gradle. There's more about this in the documentation: [<-LINK->] 
[2021-01-26 14:13:51] <wilkinsona> What code are you looking at where it's hardcoded?
[2021-01-26 14:17:27] <wilkinsona> Here's the code that uses a remote connection if possible: [<-LINK->] 
[2021-01-26 14:19:24] <wilkinsona> And this is the code that usesDOCKER_HOST: [<-LINK->] 
[2021-01-26 16:32:20] <wjohnst3> Hi, have a few reactive rest endpoints. When I get cookies from an incoming ServerRequest, the framework returns a map of HttpCookie. These are cookies I created on "login" and were marked as secure=true and httpOnly=true. In subsequent calls to other endpoints, do I need to check that these cookies are secure? The HttpCookie interface only provides key/value. How can I tell from the cookie that these fields are set? Google'ing around shows the older servlet implementation use to return a wrapper "Cookie" class and not HttpCookie.
[2021-01-26 18:04:27] <bilak>  [<-CODE->]  [<-CODE->]  [<-CODE->] 
[2021-01-26 18:09:44] <wilkinsona> You could add aPropertySourceafter all the others that setsmy.system.nameto your desired default value.
[2021-01-26 18:10:04] <wilkinsona> That addition would be done via anEnvironmentPostProcessorregistered inspring.factories.
[2021-01-26 18:11:05] <wilkinsona> Alternatively, if this is more of a one-off rather than something that you want to do in a library, you can useorg.springframework.boot.builder.SpringApplicationBuilder.properties(Map<String, Object>)ororg.springframework.boot.SpringApplication.setDefaultProperties(Map<String, Object>)to configure default properties.
[2021-01-26 18:23:38] <bilak> I'll try and let you know...thanks for hints
[2021-01-26 18:51:07] <bilak> wilkinsoa: maybe I didn't described the issue properly...problem is that I want to have option to change thenamewith property for mapsystems. So should this also work somehow with PropertySource?
[2021-01-26 19:46:49] <jnizet> Those flags can be sent to the browser when setting cookies, but they aren't sent back by the browser (or any other client) to the server. So you can't know, when you receive a cookie in a HTTP request, if it was set with those flags or not. BTW, clients are not necessary browsers, and any client can send any cookie created out of thin air. I'm not sure why you would want to know anyway. If you only want to accept cookies that you created, and want to make sure they haven't been forged, then sign them cryptographically (that's the principle of Json Web Tokens, BTW)
[2021-01-26 20:04:08] <wilkinsona> Ah, sorry. I missed that it was nested beneath a map. That makes it a bit more complicated, but still possible I think. You'd have to use anEnvironmentPostProcessorand look at all themy.system.systems.<whatever>properties and then set for each one a default name property in a customPropertySource.
[2021-01-26 20:39:13] <wjohnst3> Thanks for that JB Nizet. The reason for the cookies over using JWT comes down to a specific use-case for me. Some non-browser "clients" are issued JWT by my service; however, for our web client we were slightly worried about how JWT tokens were being stored. Secured cookies are not reachable by javascript.
[2021-01-26 20:39:24] <wjohnst3> Cookie cookie = stream(req.getCookies()).collect(toList()).get(0);boolean secured = cookie.getSecure();
[2021-01-26 20:41:04] <wjohnst3> Just wondering why Spring use a different interface in the newer reactive stuff. As you can see above, it is available in the servlet implementaion
[2021-01-26 22:40:24] <jnizet> A JWT can be stored in a cookie if you want to. It's just a string. The servlet cookie API is poorly designed: it uses the same class to represent a cookie that you set in a response (and which can have those flags), and a cookie that you get from a request (and which will never have any of those flags). I.e.getSecure()will always return a default value on a cookie you get from the request, because there's no way the server can possibly extract those flags from the Cookie HTTP request header, which looks like this:Cookie: name=value; name2=value2; name3=value3, and which thus only contains the names and values of te cookies. See [<-LINK->] 
[2021-01-26 22:50:43] <jnizet> Contrast that with how a Set-Cookie header (i.e. what the server sends in a response) looks like: [<-LINK->] 
[2021-01-27 09:41:50] <wjohnst3> Nice. Thanks for all the links. That was very helpful. When I was talking about "secure" I probably meant "httpOnly". Regardless, you answered my question :). So, cookies just loose this information on the request, interesting. Thanks for your help.
[2021-01-27 13:27:07] <arian>  [<-CODE->]  [<-CODE->]  [<-CODE->] Any ideas what things I could look into?
[2021-01-27 13:32:13] <arian>  [<-CODE->] That's interesting, is there a difference how these things are packaged into a jar? As bootRun didn't work, but the executable jar did!
[2021-01-27 14:50:33] <NicklasWallgren> Are there any known issues with@Scheduledin combination withspring.main.lazy-initialization? My scheduled tasks doesn't get scheduled without the@Lazy(false)annotation. Are there any other workarounds?
[2021-01-27 15:27:13] <banterCZ> Is there any expected change inWebMvcConfigurer#addResourceHandlers(ResourceHandlerRegistry)or related stuff? After upgrading to Spring Boot 2.3.8 and Spring Framework 5.2.12, I am gettingNo mapping for GET...for my static resources (loaded from another jar, but I think that it is not important).
[2021-01-27 15:27:26] <banterCZ> No clu from release notes of Boot [<-LINK->] 
[2021-01-27 15:28:10] <banterCZ> Framework [<-LINK->] 
[2021-01-27 16:19:40] <bclozel> if you can provide a sample project we can look into this.
[2021-01-27 17:01:07] <wilkinsona> What behaviour were you hoping for? You can use aLazyInitializationExcludeFilterto prevent a bean from being lazy.
[2021-01-27 17:13:25] <Krannthi> Found this error on running tests in springboot, Added the jstl library and still found the same issue  : org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoClassDefFoundError: javax/servlet/jsp/jstl/core/Configat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
[2021-01-27 17:22:34] <Krannthi> adding this jar worked ->  'javax.servlet:jstl:1.2' rather than this one  -> 'javax.servlet.jsp.jstl:jstl:1.2'
[2021-01-27 20:51:25] <finci-square> Hey im a bit confused on how to write isolated tests of my controllers.   I've tried to use@WebMvcTest(controllers = { MyController.class })and yet i still get controllers that are not the one specified initialized in the app context which I have inevitably not mocked beans for causing the context to fail to initialize
[2021-01-27 20:51:56] <finci-square> any tips on this?
[2021-01-27 20:52:28] <finci-square> I am trying to write mock mvc tests that include one controller and its depdendencies
[2021-01-27 22:03:27] <jnizet> That's indeed what WebMvcTest allows. Could you provide a minimal but complete example, as a github repo, reproducing the issue?
[2021-01-28 07:49:11] <jwalgemoed> Good day, all! I have a question that I haven't been able to answer yet, so I wanted to ask if someone here might have encountered the same issue. I have an application which features quite a few@SpringBootTestapplication tests. We leverage the Spring functionality that helps caching the context between runs and that speeds up the process significantly.
[2021-01-28 08:00:23] <jwalgemoed> Recently, a breaking bug was introduced in the test setup that caused the context to fail loading. What I noticed, is that for every test that's run, the context breaks (of course) but rather than failing the complete test (or maybe even all test methods in the test file) the test runner tries to create the context each and every time.
[2021-01-28 08:00:42] <jwalgemoed> For every test method.
[2021-01-28 08:01:40] <jwalgemoed> On closer inspection, it turned out that it is even worse; for every test method the context gets created, it fails, and for some reason I've yet to understand, creation is attempted a second time before the test method ends in failure with an IllegalArgumentException because the context cannot be created.
[2021-01-28 08:02:43] <jwalgemoed> So my question here is: why is context creation attempted twice in a test, even after it fails the first time?
[2021-01-28 08:03:29] <jwalgemoed> And is there a way to abort test running for all tests if this happens? I've tried using a RunListener for JUnit but I was unable to influence anything other than the current running test.
[2021-01-28 08:04:16] <jwalgemoed> My current approach is to configure the maven failsafe pluging that runs the tests to abort after a series of x failures, to prevent the whole test run from taking far too long.
[2021-01-28 08:05:46] <jwalgemoed> I just would like to understand why it happens in the first place, and if there are tools to control how the test run behaves in the (luckily not frequent) case of a broken context.
[2021-01-28 08:05:56] <jwalgemoed> Any ideas? Thanks in advance!
[2021-01-28 08:27:12] <solveretur> Hi everyone ! I have a spring webflux app and I want to validate RequestParam using my custom validator.  Sadly my implementation doesn't work even though I did everything like tutorials said. Could anyone help me please -> [<-LINK->] 
[2021-01-28 09:08:45] <jnizet> Do you have the spring-boot-starter-validation in your dependencies?
[2021-01-28 09:16:19] <solveretur> jnizet: you are right I was missing this dependency. Thank you very much !
[2021-01-28 13:49:15] <wilkinsona> The second attempt to start the context sounds like spring-projects/spring-boot#24888. It's on our todo list to look into it.Beyond that, the behaviour you've seen is what's expected when using Spring Framework's test framework. You may want to comment on spring-projects/spring-framework#18603 and see if it can get some traction.
[2021-01-28 15:05:05] <guicalman> hello @bclozel  I think I am facing the same issue that you solved at stackoverflowhttps://stackoverflow.com/questions/53939724/decode-content-encoding-gzip-using-spring-webclientI used the compress(true) in the creation of the HttClient, but maybe I am missing something because, I still have in my logs the content encoded as gzip. I wold like to have the body of the requests and responses as json text.Could you please give me a hand with this issue? I paste te part of my code in where I create de httpClient and build the WebClient. Thank you so much in advance for your help. [<-CODE->] 
[2021-01-28 15:33:07] <bclozel> It looks like you're using a custom logger here (do you know about the wiretap option in reactor netty?) - note that this is not always easy to achieve: messahe bodies can be cut into multiple pieces, characters can be split, buffering the whole body can use a lot of memory or cause performance problems...
[2021-01-28 15:34:47] <bclozel> in this case I think it's probably because you added your custom logger at the wrong place in the netty pipeline - at that point the bit handling the gzip decoding didn't get involved yet
[2021-01-28 16:20:38] <ilam-natarajan> hello All. I use spring-boot-starter-test for convenience. with <scope>test</scope>
[2021-01-28 16:21:48] <ilam-natarajan> but  the dependencies included by spring-boot-starter-test  like junit, mockito end up in my production war file. is there any way to prevent them  from going to war file
[2021-01-28 16:35:31] <wilkinsona> Test-scope dependencies shouldn't be packaged in a war. Maven's doing something wrong if that's happening.
[2021-01-28 17:20:17] <Krannthi> Hi, If I have a resource file at a location '/resources/test/example.jar', can springboot download the resource if I specify just the path '/resources/test' in the get call. or do I need to add a entry to ResourceHandlerRegistry
[2021-01-28 17:26:42] <wilkinsona> You'll need to add some configuration. Boot doesn't serve static resources from that location by default.
[2021-01-28 17:28:21] <wilkinsona> See [<-LINK->] in the reference docs
[2021-01-28 17:31:33] <Krannthi> Is everything under WEB-INF folder in webapp also in classpath by default ?
[2021-01-28 17:57:40] <guicalman> Thanks for your answer, do you have any example of using the wiretap to get the whole body of all the requests and responses?
[2021-01-28 17:59:11] <wilkinsona> Everything inWEB-INF/classesis on the classpath, as are the contents of the jars inWEB-INF/lib.
[2021-01-28 18:02:34] <bclozel> wiretap will log with your configured logger, see [<-LINK->] 
[2021-01-28 18:03:13] <bclozel> if you want to log the full request/response ina custom fashion, you need a custom filter in Spring or a component in the netty pipeline, but with all the caveats I listed above
[2021-01-28 18:10:15] <guicalman> I think I need a custom logger, becuase I need to mask some sensitive headers as Authorization: [PROTECTED]
[2021-01-28 18:12:11] <guicalman> in this case I think it's probably because you added your custom logger at the wrong place in the netty pipeline - at that point the bit handling the gzip decoding didn't get involved yetwhen you say I used my custom logger in the wrong place.... where do I need to include the custom logger?
[2021-01-28 18:21:00] <ilam-natarajan> thanks for the reply@wilkinsona. on reading this page [<-LINK->] 
[2021-01-28 18:21:25] <ilam-natarajan> testThis scope indicates that the dependency is not required for normal use of the application, and is only available for the test compilation and execution phases. This scope is not transitive.
[2021-01-28 18:22:20] <dgeorgievski> Hi,We are using actuator to expose management endpoints to our Spring boot (SB) apps. This works as advertised with JAR, but not with WAR packaging. It looks like with WARs actuator endpoints are not exposed. The WAR is deployed into a standalone Tomcat server. Everything works but the actuator endpoints.We are following the SB instructions for adding management endpointshttps://spring.io/guides/gs/actuator-service/I wonder if the instructions are different for WARs
[2021-01-28 18:22:21] <ilam-natarajan> the way I understand this, it means  scope will be not applied transitively ?
[2021-01-28 18:22:56] <ilam-natarajan> but there is also a tabular column
[2021-01-28 18:23:03] <ilam-natarajan>  [<-CODE->] compile    compile(*)    -    runtime    -provided    provided    -    provided    -runtime    runtime    -    runtime    -test    test    -    test    -
[2021-01-28 18:23:37] <ilam-natarajan> which suggest, runtime transitive dependencies will become 'test' scope. its bit confusing for me.
[2021-01-28 18:24:02] <ilam-natarajan> btw, I notice only the jars scoped RUNTIME are going into war file
[2021-01-28 18:25:03] <ilam-natarajan> I understand this could be more of a maven discussion rather than Spring-boot. so I really appreciate your answers. I guess other spring boot users could benefit too
[2021-01-28 18:48:27] <Fryie> Hi, I have a weird problem here. We have an application running with Spring Boot 2.3.3.RELEASE. We tried to upgrade to 2.4.2 and it seems everything worked fine - the tests pass locally and the application seems to work in production - but now we're suddenly seeing intermittent test failures on CI. They don't always happen, but they do seem to happen most of the time. Unfortunately, the error we get is quite opaque. It's saying: [<-CODE->] I suspect it's some kind of OOM issue (or maybe some other resource issue, e.g. DB connections), but it seems like a weird error nonetheless. as said, the error doesn't always happen, and it also pretty consistently goes away when rolling back to 2.3.3.RELEASE again. We've tried increasing the memory of our CI instance, but we're hitting a limit here, and it's still broken.Does anybody have any hints as to what kind of issues could be causing something like that?
[2021-01-28 18:54:44] <Fryie> not a maven user (we use gradle), but the way I understand it, you should just use thetestscope forspring-boot-starter-test. In gradle you would usetestImplementation, which is the analogue.
[2021-01-28 18:55:11] <Fryie> You can check how [<-LINK->] generates a project - it putsspring-boot-starter-testin test scope
[2021-01-28 18:57:30] <Fryie> As for your question about the "transitive scope", I agree that this is worded confusingly, but it should be answered here: [<-LINK->] 
[2021-01-28 18:59:51] <ilam-natarajan> I do use thetestscope
[2021-01-28 19:00:53] <ilam-natarajan> but still the transitive dependencies of  spring-boot-starter-test that areruntimescoped are going in to my war file
[2021-01-28 19:05:27] <bclozel> it should be the same, but I don't think thatserver.management.portwill work in this case: exposing those endpoints on a different port means starting a new embedded server instance. This is not possible with a WAR deployment, since there is no embedded server.
[2021-01-28 19:13:32] <bclozel> I haven't tried, but something along [<-CODE->] 
[2021-01-28 19:16:56] <Fryie> that doesn't sound like it should happen, but admittedly, I don't use maven (or WAR files), so can't be sure. Are you sure it's not something else that is pulling in these dependencies?
[2021-01-28 19:18:26] <dgeorgievski>  [<-CODE->] I'll repeat the tests again in case I've missed something.
[2021-01-28 19:20:39] <guicalman> Great
[2021-01-28 19:20:44] <guicalman> I will try it
[2021-01-28 19:54:39] <jnizet> You probably have another compile or runtime dependency that transitively depends on spring-boot-starter-test, or on junit. Use maven's dependency tasks to track where those dependencies come from. Try reproducing the issue by starting with a simple project generated from start.spring.io, and then adding dependencies one by one, to find what the problem is.
[2021-01-28 20:09:30] <ilam-natarajan> fryie: @jnizetyou guys are right. my bad. very sorry. when i tried to create a reproducible example, i did not see the issue. then realized I am doing something wrong. turns out, one of our internal libraries is pulling those test jars with compile scope. Previously I was just going by the dependency tree. when I ran mvn dependency:tree , it showed those jars were only pulled by starter-test. I need to read the mvn dependency:tree docs apparently. Thank you both!!
[2021-01-28 20:13:16] <guicalman> I am getting this error
[2021-01-28 20:13:20] <guicalman> org.springframework.web.reactive.function.client.WebClientRequestException: nested exception is io.netty.channel.StacklessClosedChannelException
[2021-01-28 20:13:59] <guicalman> It seems that in the part of the pipeline that I am inserting the channel is already closed
[2021-01-28 20:15:49] <bclozel> I don't know much about the netty pipeline lifecycle, maybe you can ask in the #reactor-netty channel about that
[2021-01-28 20:19:57] <guicalman> Ok, I would do that, thank you so much for your help
[2021-01-28 20:42:14] <springroll12> Hello. i'm struggling with how to mount application.yaml from a configmap with the new spring boot 2.4 configTree support. Is there a trick to it? My config does not seem to be loading properly.
[2021-01-28 20:54:07] <springroll12>  [<-CODE->]  [<-CODE->] And my deployment... [<-CODE->] 
[2021-01-29 08:45:53] <bclozel> you're providing a fullapplication.ymlfile here, and this should use theimport:directive instead. If you want to use a config tree, then the files under/etc/config/should be very different. See [<-LINK->] 
[2021-01-29 08:46:15] <bclozel> Also I don't think you need to specify the cloud platform in your deployment configuration, Spring Boot will detect k8s on its own.
[2021-01-29 09:26:51] <ilam-natarajan>  [<-LINK->] Just in case if it is of any help to you
[2021-01-29 10:10:06] <Fryie> wow, yes, that could exactly be the same issue - in our case it's also in a parent class
[2021-01-29 10:11:34] <Fryie> I'm having basically the same problem: [<-LINK->] 
[2021-01-29 10:13:48] <Fryie> let me know if you found a fix, or have opened an issue
[2021-01-29 10:53:24] <wilkinsona> Fryie: We don't have an issue for this one. If you can reproduce the problem in a small sample, please open one and we'll take a look.
[2021-01-29 12:40:57] <Fryie> unfortunately, I wouldn't know how, as the issue is incredibly flakey
[2021-01-29 12:46:06] <Deviad> Hello, I have a weird issue with Spring Boot 2.3.6 and Spring Doc.
[2021-01-29 12:46:21] <Deviad>  [<-LINK->] 
[2021-01-29 12:46:50] <Deviad> Basically for post it cannot find the withAttribute method.
[2021-01-29 12:47:10] <Deviad> I tried deleting the content of .m2/repository and reinstalling, but it did not help, apparently.
[2021-01-29 12:47:46] <wilkinsona> The.withAttributemethod is new in Spring Framework 5.3 and you have 5.2 on the classpath.
[2021-01-29 12:50:49] <Deviad>  [<-ISSUE->] 
[2021-01-29 12:51:18] <Deviad> OK, so what should I do? I tried to install springdoc 1.5.0 for example, but it did not fix the issue.
[2021-01-29 12:52:09] <wilkinsona> FWIW, I don't think that issue is warranted. The Springdoc team aren't responsible for your classpath. You need to use a compatible combination of versions.
[2021-01-29 12:53:20] <wilkinsona> You could upgrade to Spring Boot 2.4 (which uses Spring Framework 5.3) or stick with Spring Boot 2.3 and use a version of Springdoc that is compatible with Spring Framework 5.2.
[2021-01-29 12:54:26] <wilkinsona> 1.4.x of Springdoc looks like it would work with Spring Boot 2.3
[2021-01-29 12:59:41] <Deviad> OK, thanks. Unfortunately I work on proprietary solutions  and not all versions are available. This time I got lucky.
[2021-01-29 13:19:59] <Deviad> Is there any way to configure this programmatically:springdoc.swagger-ui.path=/swagger-ui-custom.html?
[2021-01-29 13:20:11] <Deviad> With a Java bean I mean
[2021-01-29 13:52:46] <Deviad> Where Can I find what I neeed to add in case I am not using@EnableAutoConfiguration?
[2021-01-29 13:53:18] <Deviad>  [<-LINK->] 
[2021-01-29 13:53:19] <Deviad> For example:
[2021-01-29 13:54:04] <Deviad> I thought I would have add to add an autoconfiguration from springdoc, but it seems there’s more than that.
[2021-01-29 15:40:43] <philippart-s> I answer to my own question if anyone have the same question : [<-CODE->] 
[2021-01-29 16:34:39] <Deviad> I am curious to know how to register a “GroupedOpenApi” with genericApplicationContext.registerBean() since it seems not to work.
[2021-01-29 16:34:53] <Deviad> No error thrown, but I cannot see my definition as I could see it using the@Beanannotation
[2021-01-29 17:10:01] <adadelta> Hi. Anyone here  built spring boot docker images via builpack (mvn spring-boot:build-image), used it with docker-compose, and been able to make the application write logs to a named volume? I'm getting permission errors, which I don't get with other applications in the same compose file. Wondering if it's because the logs folder I'm writing to is not created in a docker file, but is instead created when the spring boot application runs for the first time
[2021-01-29 17:50:29] <adadelta> I'm able to get it to work if I use something like /home/me/logs:/workspace/logs, but it does not work if I used a named volume in the docker compose
[2021-01-29 18:24:56] <adadelta> Yeah ok. The uid for the user used by buildpack is 1000 while root (uid 0) owns the named volume
[2021-01-30 00:14:21] <Fryie> edreyer: have you had any luck finding out more about this issue?
[2021-01-30 13:02:07] <HaloFour> Is there a simple/recommended way to tie into the Spring WebFlux machinery to write a response for aResponseEntity<T>?  I'm working on an implementation of Spring SecurityServerAuthenticationEntryPointwhich provides only theServerWebExchange.  I've looked into injectingResponseEntityResultHandleralthough that requires passing aHandlerResultfromHandlerMethodwhich I can get by reflecting a fake controller method, but that seems a bit hacky to me.
[2021-01-30 19:06:52] <LeanderG> Hello everyone, I found this StackOverflow question where somebody says that this usage of NativeWebRequest is not thread-safe. Now I'm a bit worried because I want to do the same thing. Is that user correct? [<-LINK->] 
[2021-01-30 23:01:39] <jnizet> It is thread-safe. Spring controllers are indeed singletons (by default) that are called concurrently by multiple threads. But the request which is injected in the controller is not actually an HTTP request. BTW, at the time the controller is constructed, the server hasn't received any request yet. The request is in fact a proxy, which, whenever one of its methods is called, finds the current request being processed (by the current thread), and delegates to that request.That said, I very much agree that the generated code is awful, not idiomatic at all, not respecting neither Java's nor Spring's best practices. I would delete all of that, carefuly craft my own code using Spring's way of doing things, and write tests to verify that the contract of the API is fulfilled.
[2021-01-31 07:50:29] <muhammeddawood> Hello everyone, I have updated to Spring boot 2.4.1 from 2.3.3.RELEASE, I am getting following exception in my production server logs after couple of days... I did not see this problem in 2.3.3.RELEASE and earlier. Can anybody please help in identifying why this issue might occur:java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reachedat java.base/java.lang.Thread.start0(Native Method)at java.base/java.lang.Thread.start(Thread.java:803)at java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:937)at java.base/java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1583)at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:346)at java.base/java.util.concurrent.ScheduledThreadPoolExecutor.scheduleAtFixedRate(ScheduledThreadPoolExecutor.java:632)at reactor.core.scheduler.BoundedElasticScheduler.start(BoundedElasticScheduler.java:175)at reactor.core.scheduler.Schedulers.newBoundedElastic(Schedulers.java:498)at reactor.core.scheduler.Schedulers.newBoundedElastic(Schedulers.java:454)
[2021-01-31 08:50:56] <Rrok_gitlab> Hello Guys!!!! Im developing a liveProject By Manning (Web Ecommerce) and im a newbie in spring. I have a problem bout where and how to put in a spring app the Mustache template ( a free template by MIT ) [<-LINK->]  [<-LINK->] 
[2021-01-31 10:04:53] <jnizet> Hi! A big part of learning (and developing in general) consists in searching, and in reading documentation. A simple google search for "Spring Boot mustache" would give you the answer. The documentation also has the answer: [<-LINK->] .
[2021-01-31 12:40:10] <LeanderG> Thanks for explaining! I didn't know it's a proxy. I really like automatic code generation because I no longer have to manually keep the specification, documentation, the api client and server code in sync. Usually I generate the specification from my spring controllers. I wanted to try it the other way around and generate the server stubs from the specification instead. Not sure yet what's best for me. I don't mind the bad code quality because the code is generated on every build and nobody has to maintain/read the generated code anyways.
[2021-01-31 14:19:24] <jnizet> Well, you're still supposed, I guess, to override all these generated methods, and can't thus change their return type or their parameters, or split them in several methods, etc.
[2021-01-31 15:49:57] <marzelwidmer> Hello I there a way to configure the BuildPacks Images Memory Settingsfixed memory regions require 643829K which is greater than 350M available for allocation: -XX:MaxDirectMemorySize=10M, -XX:MaxMetaspaceSize=131829K, -XX:ReservedCodeCacheSize=240M, -Xss1M * 250 threads
[2021-02-01 07:18:41] <NicklasWallgren> Alright, thanks.
[2021-02-01 09:29:35] <a1dutch> Hi, [<-LINK->] seems to have been down for a few days now, anyone else having this issue?
[2021-02-01 09:33:43] <bclozel> it's [<-LINK->] now, we've migrated the application to a new platform since [<-LINK->] is being retired.
[2021-02-01 09:35:51] <bclozel> Could you upgrade to Spring Boot 2.4.2? There have been a couple of bug fixes around this in Spring Framework 5.3.3; see [<-ISSUE->] 
[2021-02-01 15:57:01] <scottfrederick> If you’re asking about Boot integration with Cloud Native Buildpacks, see the Paketo configuration docs: [<-LINK->] 
[2021-02-01 15:58:57] <scottfrederick> this is the buildpack that the Boot integration invokes by default (via the Paketo builder). Best practice is to not set memory parameters in the JVM yourself, but to let the buildpack memory calculator figure it out and only set theBPL_JVM_*when necessary
[2021-02-01 18:47:14] <surjitsinghbhachu> Hi everyone, new to this group. I would like to create a microservice chassis as a basis for our SpringBoot microservices. What’s would be the best way to do this   1. create the chassis app and use this as a template for each microservice or 2. create the chassis app and add it as a dependency/module into each microservice (ideally using gradle)?
[2021-02-01 20:56:28] <springroll12> bclozel: Doesn't it make sense to put the entire application.yaml into a configMap? The import directive is already in the "main" application.yaml which is compiled into my jar. I was hoping to override ALL the values in the "main" application.yaml with those that were imported through configTree (from a configMap). That way I could change anything needed on the fly...
[2021-02-01 20:58:04] <springroll12> My understanding of the new override functionality was that config specified "further down" overrides the "top level" config. That's what I was hoping to achieve with the configTree.. import an entire new config after the one in src/main/resources.
[2021-02-01 21:12:05] <bjonnh> I have a similar question than Surjit. I have an application that will have several spring tasks (ETL tasks), I already have a "commons" library where I declare repositories and models, but I am not sure if I should create gradle sub projects for each ETL task or if I can use the same project for all the ETLs
[2021-02-01 21:12:37] <bjonnh> From what I understand, both options would work, but I would like to hear from more experienced architects what would be the best way in the long term
[2021-02-01 21:13:36] <bjonnh> for now I had all the ETLs as tasks in a single big application and they were called by rest endpoints, but I would like to have independent artifacts that I can run either in docker or somewhere else without needing that big application
[2021-02-01 21:13:42] <bjonnh> (hope it is clear…)
[2021-02-01 21:16:02] <bjonnh> I can also take a reference to a book or anything that would explain those things and find that by myself, but I couldn't find one
[2021-02-01 21:53:00] <Krannthi> Is it possible to add config to map a endpoint "/test" to  requests "/test.tst". Is there a way to add the suffix support for endpoints in springboot, or should I include both in the controller mapping like {"/test", "/test.tst"}
[2021-02-01 22:20:38] <arajitsamanta_twitter> Hi Team,I had a java servlet Filter which logs overall transaction time. This worked fine until we have Async Request which has been achieved by using DeferredResult.My question are..In Filter, Is there a way we can detect when http request gets completed for both Sync & Async scenarios.
I tried using AsyncHandlerInterceptor, it worked as intended, however afterCompletion() method invoked twice(once for Dispatcher Type as ASYN & one for ERROR) when there is a timeout in DeferredResult.Any suggestion would be helpful
[2021-02-02 02:06:27] <Krannthi> Do all the beans in a SpringBoot context get initialized on application start, or do beans get initialized lazily by default, I noticed some delay on the initial request, so wanted to know if Iazy initialization is possible
[2021-02-02 06:23:09] <wenjinlonggithub> Hi, Is there any example on how to change multi-language on every HTTP request by setting the header a special language type, using feign interceptor to intercept every HTTP requesting?
[2021-02-02 11:49:05] <jabrena> Good morning, I would like to know where is the github repository about Spring Boot documentation. I would like to add an issue to add a new section about SSE (Server Sent Events). I didnt find a section about that technology. Exist a section about Web sockets but not about SSE.
[2021-02-02 12:36:40] <bclozel> There are a few sections covering that in the Spring Framework docs. See [<-LINK->] and [<-LINK->] and [<-LINK->] 
[2021-02-02 12:37:16] <bclozel> I don't think Spring Boot is doing anything special there, nor if would make sense to add information there.
[2021-02-02 12:37:54] <bclozel> Spring Boot docs are here: [<-LINK->] 
[2021-02-02 13:08:21] <jabrena> Maybe a mini section in Spring Boot could be useful.
[2021-02-02 13:08:33] <jabrena> With Spring Boot, you can use REST, WS or SSE
[2021-02-02 13:09:18] <jabrena> but It is true that not many people use SSE, but it could be healthy to have a mini section. (Humble opinion :))
[2021-02-02 13:13:24] <bclozel> Feel free to suggest an improvement. It's hard to draw the line between documenting what Spring Boot is providing and copy/pasting the docs of all Spring projects.
[2021-02-02 23:59:54] <a1dutch> thanks!@bclozel
[2021-02-03 02:57:57] <aurelien-baudet> Hello,I would like to offer a Spring Boot compatible module to the community.I already added a pull request to reference this module in Spring Boot starters.I would like to make this module available from start.spring.io so developers can choose to include this module.How can I achieve that ?Do I also make a pull request on spring-initializr ?Or do I need to contact someone (and who ?) to explain what the module does and why it could help Spring Boot developers ?Thank you
[2021-02-03 08:33:59] <jabrena> I will do it
[2021-02-03 08:53:48] <bclozel> Here: [<-LINK->] Note that the starter would need to have a strong community behind it - many popular starters aren't listed on start.spring.io, and being listed on start.spring.io doesn't make a starter popular.
[2021-02-04 08:49:06] <abhishekhbd> Can we use IBM urban code deploy in place if config server ? Is it a good idea to use Urban code for configurations like we have aprnf cloud config server?
[2021-02-04 10:18:42] <aurelien-baudet> Thank you for your answer.
[2021-02-04 10:21:40] <aurelien-baudet> Maybe it is not the best option for now if it needs a strong community. I just want to find the best way to indicate to spring boot developers that there exists a module that can ease their development when they need to send email or sms (rcs later).
[2021-02-04 11:14:20] <rajeevprasanna> can someone look into this [<-LINK->] 
[2021-02-04 11:37:36] <tleipzig> Krannthi: I sometimes run into the problem that a Scheduler isn't running because the Bean isn't initialized yet - so I guess sometimes Components are lazyly initialized without knowing
[2021-02-04 11:38:00] <tleipzig> there is also [<-LINK->] for creating a new Spring Boot project@aurelien-baudet
[2021-02-05 08:52:35] <jigyasu2010> Halo Everyone,I m trying to consume WSDL file using spring boot which have Schema, request and response project is running well but when i try to run same wsdl file on SOAP UI it does not work can you help me who know SOAP API?
[2021-02-05 08:53:03] <jigyasu2010> Halo Everyone,I m trying to consume WSDL file using spring boot which have Schema, request and response project is running well but when i try to run same wsdl file on SOAP UI it does not work can you help me who know SOAP API?
[2021-02-05 11:18:05] <mmaryo> HelloWith Spring Boot WebfluxI'm dealing with Mono<Void> [<-CODE->]  [<-CODE->] 
[2021-02-05 12:15:50] <bclozel> maybe usedoOnSuccessinstead?
[2021-02-05 12:21:46] <bclozel>  [<-CODE->] 
[2021-02-05 15:33:24] <jigneshkhatri> Hey folks, I am stuck at a point with Spring boot Gradle. Can anyone help me out here? Here is the link to the stackoverflow question  - [<-LINK->] 
[2021-02-05 17:27:28] <konstantinblaesi>  [<-LINK->] 
[2021-02-05 17:27:58] <konstantinblaesi> any idea why intellij won't offer me 2.3.8.RELEASE?
[2021-02-05 17:30:03] <konstantinblaesi> ah ok whatever happened now, it finally accepted it
[2021-02-05 18:06:58] <vanseverk> Hi there,micrometer-core:1.6.2comes out of the box with aPoolingHttpClientConnectionManagerMetricsBinderwhen enabling Spring Boot Actuator metrics I however don't see any of thehttpcomponents.httpclient.poolmetrics it supplies show up in the list of metrics. As far as I know, I don't need to specifically enable any metrics and this should work out of the box when using a RestTemplate that relies on a PoolingHttpClientConnectionManager through its HttpClient. Am I mistaken here?
[2021-02-05 18:50:46] <vanseverk> I have made a small sample project where I can test this in isolation https://github.com/vanseverk/poolinghttpclientconnectionmanagermetricstest When calling http://localhost:8080/ it's clear the PoolingHttpClientConnectionManager is being used [<-CODE->] but when looking at metrics, there are no relevant ones found in the list. I do get the jvm, logback, process, system and tomcat metrics
[2021-02-05 19:24:56] <wilkinsona> vanseverk: Yes, you're mistaken. There's nothing in Boot that auto configuresPoolingHttpClientConnectionManagerMetricsBinder
[2021-02-05 19:29:11] <wilkinsona> Looking at the API, there's no undeprecated way of getting the connection manager out of the client so I don't think Boot could auto-configure this for you.
[2021-02-05 19:29:52] <wilkinsona> If you declare your ownPoolingHttpClientConnectionManagerMetricsBinder@Bean, Boot will pick it up and bind it to the auto-configuredMeterRegistry.
[2021-02-05 19:34:38] <mmaryo> thank you@bclozelbut whyMono<Void>stop the flow ?
[2021-02-05 19:34:40] <vanseverk> @wilkinsona that's a bit unfortunate. I understand they're not beans by default, but it would be interesting to have a discovery mechanism in the Spring Boot integration that turns them into beans using the usual magicActuator picks up integrations with other libraries (e.g. Spring-Boot-Starter-Rabbitmq) and I'm aware that's through the meters supplied in the projects themselves, but it did make me assume any meter on the classpath would be considered for usage by the engine behind the screens
[2021-02-05 19:37:19] <mmaryo> I ask the question because this method is used by a router like this [<-CODE->]  [<-CODE->] 
[2021-02-05 19:53:19] <MastaP> mmaryo: Mono<Void> propagates the completeness and error signals, but there’s no element to map/flatmap
[2021-02-05 20:05:16] <mmaryo> thanks
[2021-02-05 21:34:53] <vanseverk> (and it's awesome to showcase a bunch of metrics in a TKGi/Prometheus+Grafana/Spring Boot apps setup ;-) )
[2021-02-06 09:19:50] <wilkinsona>  [<-CODE->]  [<-CODE->] 
[2021-02-06 10:33:03] <vanseverk> I'm not sure how we can define it ourselves though, as we'd get the same issue trying to get that ConnPoolControl. And yeah, the evaluation report definitely is useful sometimes :)
[2021-02-06 11:50:43] <wilkinsona> You can create it and pass it in when creating the client usingHttpClientBuilder. You can then use the same instance to create the metrics binder: [<-CODE->] 
[2021-02-06 16:44:35] <vanseverk> Oh dear, seems like I didn't realise the ConnPoolControl IS the connectionManager, rather than just a part of it... Thanks for that! One side- question though, why are you turning your HttpClientConfiguration into a static final class, instead of a regular public one? Doesn't that make it function like all the beans in it are prototype scoped?
[2021-02-06 20:47:50] <wilkinsona> why are you turning your HttpClientConfiguration into a static final class, instead of a regular public one? Doesn't that make it function like all the beans in it are prototype scoped? [<-CODE->] 
[2021-02-07 09:23:35] <nsargar> Hi all, I am trying to add r2dbc+webflux functional endpoint to application where spring data jpa repositories already exists. So far I was able to segregate two kinds of repositories with base packages property. But it seems I need more work around entitymanager too.Just wanted to ask that if it’s possible to implement both jdbc and r2dbc in same application.
[2021-02-07 11:54:17] <nightswimmings> I need to change a method's behaviour of one of my production beans in test (conditionally on a test feature toggle property). What is the preferred way on latest Spring-Boot? Besides, I am not sure if it is more convenient to try to register in anoverride/@Primaryway anonymously something like new MyBean(){ void myMethod() {<overriden behavior>}}}  or either use Mockito to stub the original depdnency some way. Any advice on best practice is welcomed!
[2021-02-07 12:12:49] <nightswimmings> Would be nice if there is some approach that does not imply having both the main and the test's bean implementation both registered in the context
[2021-02-08 10:47:51] <ilam-natarajan> Hi All, i need to add a response header in my filter, after the doFilter() method. do i need to check if response isCommitted before adding the header? is it possible for response to be committed already in non exception scenarios?
[2021-02-08 10:48:54] <ilam-natarajan> my filter extends the OncePerRequestFilter
[2021-02-08 11:18:24] <ilam-natarajan> can BufferingClientHttpRequestFactory be used in production? will it cause any performance issues?
[2021-02-08 11:51:52] <OrangeDog> Filter: yes, any previous filter or handler could have committedBuffering: yes, buffering every request can cause performance issues, you'll have to decide whether yours are significant to you
[2021-02-09 14:53:46] <kdevkr> The spring boot registers StandardServlet MultipartResolver based on the Servlet Part API as a MultipartResolver. What do you like about the Commons Multipart Resolver based on the Apache Commons File Upload library?
[2021-02-09 15:32:28] <yissacharcw> Hi, I'm trying to register a custom UUID codec for Mongo. When I write objects the document correctly uses the codec to serialize the object. However, when I try to read objects I get an errorInvalid UUID string. It looks like Spring does go through the codec to write the query that finds the object, but when deserializing into the response object it ignores the codec. Is there something additional that needs to be configured?
[2021-02-09 17:15:56] <wilkinsona> Assuming that you're using Spring Data MongoDB, [<-LINK->] is probably a better place to ask.
[2021-02-09 17:35:57] <pmihalcin> Hi all.. how can I supply custom cacerts when building docker image using buildpacks: [<-LINK->] ?
[2021-02-09 17:45:22] <bclozel> Looking at [<-LINK->] , the easiest way would be to provide a binding with the specific type.
[2021-02-09 17:45:51] <bclozel> Unfortunately, adding bindings through the plugin configuration is not yet supported. [<-ISSUE->] 
[2021-02-09 20:05:01] <yissacharcw> Thanks, sorry realized after I asked here and asked there as well :)
[2021-02-09 21:06:39] <konstantinblaesi> I have refactored all tests to junit 5. Now when I run the whole suite tests with@ExtendWith(MockitoExtension.class)and@Mockdon't get the mocks initialized (failing with "mock is null"), but when I run the class directly it works. Any pointers what's going on here?
[2021-02-09 21:07:50] <konstantinblaesi> Running the tests with intellij and excluding junit 4 stuff in the pom [<-CODE->] 
[2021-02-10 08:37:57] <peterluttrell_twitter> A question on how to orchestrate custom shutdown logic. [<-CODE->] I've explored: [<-CODE->]  [<-CODE->] 
[2021-02-10 09:05:47] <wilkinsona> Sounds like you need a 15 second sleep in between making the change to indicate that the instance is unhealthy and proceeding with the shutdown. So basically your second option, but you need to ensure that the required bean dependencies are in place so that the destroy ordering results in the sleep happening before Netty is stopped.
[2021-02-10 09:36:46] <sakanate> Hi guys.After upgraded Spring Boot v2.1 to v2.4, the metaspace of my DAO class increased a lot.My DAO class inherits a class annotationed by @Transactional.The metaspace stopped to increase when I removed @Transactional annotation in the superclass.Has anyone got a issue like that? Or am I something wrong?For some reasons, I can't upload my codes.Thanks in advice.
[2021-02-10 09:51:24] <pmihalcin> thanks for the info
[2021-02-10 09:54:12] <peterluttrell_twitter> I think you're suggesting that the bean with@PreDestroyshould define a@DependsOneto theSmartLifecyclebean that manages the custom Netty server.
[2021-02-10 09:55:05] <peterluttrell_twitter> I'm concerned about other beans getting shutdown. Most are necessary for request processing.
[2021-02-10 09:55:54] <peterluttrell_twitter> Is there any other ways of stopping/delaying theApplicationContextshutdown that might prevent any beans from getting shutdown?
[2021-02-10 10:46:18] <wilkinsona> You could sleep in aLifecycleorSmartLifecyclebean
[2021-02-10 10:46:41] <wilkinsona> They are called immediately after theContextClosedEventis published and immediately before any beans are destroyed.
[2021-02-10 10:48:27] <wilkinsona> The use of@Transactionalwill result in the bean being proxied. Perhaps something has changed in the proxying done by Spring Framework that's affected the metaspace usage. How are you measuring it?
[2021-02-10 13:49:48] <salman-khandu> Hi all, can anyone please help me to sort out [<-LINK->] . I want a non-blocking way to use the response of WebClient response in the next api call but before calling api I do some processing in order to get user details
[2021-02-10 14:04:45] <HaloFour> Don't know if this is the right channel to ask questions about actuator/micrometer but I was wondering if it's expected that a metric always have a consistent set of tags?  Using Prometheus and a customWebFluxTagsContributorimplementation and was only adding aTagin certain circumstances and the Prometheus endpoint was acting ... weird.  Like it would only report the metric with whatever set of tags was reported first, if another metric was reported with those same tags but also an additional one it would be dropped on the floor.
[2021-02-10 14:14:40] <wilkinsona> Prometheus requires the tags to the same. Micrometer enforces this here: [<-LINK->] 
[2021-02-10 14:21:31] <HaloFour> Ah ok, that explains what I'm seeing.  Also explains why the existing WebFlux/WebClient tag contributors use sentinel values.  Thanks!
[2021-02-10 14:23:21] <wilkinsona> You need to create a "pipeline" that chains the calls together. Something like this: [<-CODE->] 
[2021-02-10 14:24:41] <wilkinsona> That'll return aMono<ResponseTwo>. When something requests its value, it'll trigger the request toexample/one, the ID will be extracted from the response and used to make a call toexample/two/<id>and its response will then be mapped to an instance ofResponseTwo.
[2021-02-10 16:04:51] <Rajh> Hello, is it possible to disable placeholders in a property ? [<-CODE->] 
[2021-02-10 16:14:22] <HaloFour> try this:myProperty=#{'$'}{a:'b'}
[2021-02-10 16:18:30] <Rajh> Output is"#{'$'}{a:'b'}"
[2021-02-10 16:20:47] <Rajh>  [<-CODE->] Im trying to put freemarker templates into a property, this kind of modification would mean to change all my templates according to spring ...
[2021-02-10 19:08:27] <wilkinsona> IMO, configuration properties aren't a good way to externalise Freemarker templates. It's not really what they're intended for and the problems with escaping placeholders is one example of that. What's the reason for using properties for this?
[2021-02-10 23:10:56] <omlip> in de me rechauffer
[2021-02-11 04:58:40] <salman-khandu> Thank you for the help
[2021-02-11 06:59:32] <DoraRajappan> I am getting java.lang.NoClassDefFoundError: org/springframework/core/log/LogMessageat org.springframework.security.web.DefaultSecurityFilterChain.<init>(DefaultSecurityFilterChain.java:51)on 5.4.2 spring-security-web upgrade
[2021-02-11 07:44:03] <sakanate> Thanks reply!I used JMeter to measure it.
[2021-02-11 07:44:05] <DoraRajappan> its in spring-core 5.2.2
[2021-02-11 07:50:04] <sakanate> I read the patch note about (Spring Framework 5.x)[https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-5.x#whats-new-in-version-53]I may missed to find the changes... I couldn't find it.But your advice is nicely helpful. thx!
[2021-02-11 07:58:52] <Rajh> I'm using consul to store configurations. Those configurations are loaded dynamically and are used in a service to convert objects using freemarker
[2021-02-11 08:22:00] <kenshinji> Hello, anyone know how to solve this problem? [<-LINK->] Thanks
[2021-02-11 09:18:52] <wilkinsona> I thought JMeter was for load testing and measured request/response performance. How are you using it to measure metaspace usage on a class-by-class basis?
[2021-02-11 09:57:55] <phealy1982> kenshinji: not 100% on your issue without seeing setup but just in case you weren't aware of changes related to configs in 2.4 [<-LINK->] . Does enabling legacy mode resolve the issue, therefore pointing to some needed refactoring of your config set up? spring.config.use-legacy-processing property to true.
[2021-02-11 13:24:41] <kenshinji> Thank you Peter, I tried , it didn't work. And my problem is actually the ActiveProfiles annotation doesn't work.
[2021-02-11 14:37:26] <wilkinsona> I've posted an answer on Stack Overflow
[2021-02-11 15:07:35] <DarkAtra>  [<-CODE->] The Registrar is enabled via the following Enabled annotation: [<-CODE->] and loaded on the Application class: [<-CODE->] 
[2021-02-11 16:46:08] <wilkinsona> Try moving it off your mainApplicationclass and onto a@Configurationclass that's found via component scanning. It should then be filtered out.
[2021-02-11 17:35:09] <DarkAtra> works like a charm - i guess this would be the prefered way of enabling "features" right?
[2021-02-11 17:41:07] <wilkinsona> Right. There's a section in the docs that tries to cover this: [<-LINK->] 
[2021-02-11 20:10:22] <Krannthi> Is there a way to set a default Context-path for Cookie in springboot. My application creates a session and return JSESSIONID with 'Path' on cookie set to context-path of application, is it possible change this value
[2021-02-11 21:13:24] <Krannthi> I tried setting this property, but 'path' value on cookie is still set to 'Context-path' --->                                                                                                                                                                                server.servlet.session.cookie.name = JSESSIONID                                                                                                                                                                                                                                                        server.servlet.session.cookie.path=/
[2021-02-12 03:23:35] <brickheck2021> Is there a way to use JmsTemplate with Apache Camel routes without using ProducerTemplate?
[2021-02-12 06:17:55] <salman-khandu> Hi All, I am facing AyncTimeoutException on a chain on WebClient call.On call of webclient4 AyncTimeoutException occured rest of work flow work fine. Please help me to sort outThank you in advance.See below code..............................public Mono<Response> apiCall(....){     Mono<String> response= webclient1(....) // web client call 1; [<-CODE->] } [<-CODE->] 
[2021-02-12 09:24:40] <wilkinsona> Settingserver.servlet.session.cookie.pathshould be sufficient. For example setting it to/testinggives me this: [<-CODE->] 
[2021-02-12 11:38:15] <DoraRajappan> How can I resolve this? XmlWebApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'delegateMethodAccessDecisionManager' defined in class path resource [applicationContext-authorization.xml]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.access.vote.AffirmativeBased]: No default constructor found; nested exception is java.lang.NoSuchMethodException: org.springframework.security.access.vote.AffirmativeBased.<init>()
[2021-02-12 12:51:12] <Krannthi> In this case ur context-path is different right
[2021-02-12 12:58:22] <wilkinsona> Right. The context path was/.
[2021-02-12 13:00:00] <wilkinsona> Your classpath contains an incompatible combination of versions. Something is trying to call the default constructor onAffirmativeBasedand that constructor does not exist.
[2021-02-12 13:03:13] <Krannthi> And is this a good approach to change that
[2021-02-12 13:04:14] <wilkinsona> The constructor was [<-LINK->] over 6 years ago in Spring Security 4.0 so you have some code that's expecting a really old version of Spring Security. The rest of the stack trace should show what it is. I'd recommend upgrading it.
[2021-02-12 13:04:49] <wilkinsona> Sorry, I don't understand the question. A good approach to changing what?
[2021-02-12 13:05:41] <Krannthi> cookie path I meant
[2021-02-12 13:06:01] <Krannthi> will that expose any security concern
[2021-02-12 13:29:23] <Krannthi> are the 'server.servlet.session.cookie.*' properties only referring to http session cookie
[2021-02-12 13:29:31] <Krannthi> I mean JSESSIONID
[2021-02-12 13:34:17] <wilkinsona> It's only a security concern if configure it to a path where it will then be received by something malicious.
[2021-02-12 13:43:16] <DoraRajappan> while upgrading spring-security-web from 3.x to 4.x resulted in a schema upgrade to 4.2 and that resultd in this exception
[2021-02-12 13:45:02] <DoraRajappan> upgrading the code?
[2021-02-12 13:47:07] <wilkinsona> You need to upgrade whatever code it is that's calling the Spring Security constructor that was removed in 4.x.
[2021-02-12 13:51:41] <DoraRajappan> alright
[2021-02-12 13:51:51] <DoraRajappan> thank you very much
[2021-02-12 13:55:04] <DoraRajappan> <beans:bean id="delegateMethodAccessDecisionManager"
        class="org.springframework.security.access.vote.AffirmativeBased"><beans:property name="allowIfAllAbstainDecisions"
            value="false" /><beans:property name="decisionVoters"><beans:list><beans:bean
                    class="org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter"><beans:constructor-arg ref="preInvocationAdvice" /></beans:bean></beans:list></beans:property></beans:bean>
[2021-02-12 14:03:22] <DoraRajappan> to
[2021-02-12 14:03:25] <DoraRajappan> <beans:bean id="delegateMethodAccessDecisionManager"
        class="org.springframework.security.access.vote.AffirmativeBased"><beans:constructor-arg ref="decisionVoters"/><beans:property name="allowIfAllAbstainDecisions"
            value="false" /><beans:property name="decisionVoters"><beans:list><beans:bean
                    class="org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter"><beans:constructor-arg ref="preInvocationAdvice" /></beans:bean></beans:list></beans:property></beans:bean>
[2021-02-12 16:07:29] <springroll12> How can I specify a pattern like this/v*/**for a filter? I want to apply a filter ONLY on urls that look like /v1/..., but I don't want to have to update it to include /v2/... when the api version changes. Is this possible?
[2021-02-12 16:24:44] <wilkinsona> It's not possible using a filter's url pattern./v*/**style path-matching is a Spring Framework feature and the filter's URL pattern is handled by the servlet container.
[2021-02-12 16:26:06] <wilkinsona> You could map your filter to every request and then write some code that uses Spring Framework'sAntPathMatcherorPathPatternto perform the matching.
[2021-02-12 16:32:51] <springroll12> All I want to do in reality is exclude actuator requests from a filter
[2021-02-12 16:34:20] <springroll12> wilkinsona: For instance in kubernetes you want to use the spring boot actuator liveness/readiness health indicators, which are polled every few seconds. This muddies up logs if you use a filter for that.
[2021-02-12 16:36:32] <springroll12> I guess I could use this: [<-LINK->] but it seems hacky
[2021-02-12 17:26:31] <wilkinsona> That's an implementation of what I suggested above. Given the limitations of the servlet spec, I don't think it's hacky.
[2021-02-12 22:18:37] <brickheck2021> To use Apache Camel without ActiveMQ or other message queue, how to create a connection factory for Spring JmsTemplate?
[2021-02-12 22:19:16] <brickheck2021> Don't have a broker url for the connection factory in that case
[2021-02-12 22:20:03] <brickheck2021> For example, when I want to use a JmsTemplate in a Spring Boot controller, send incoming request to a camel route and simply log it.
[2021-02-12 23:00:39] <adriana-voyce> Hello... I urgently need assistance with a homework assignment for my intro Java class... Would anyone be willing to help me?
[2021-02-12 23:14:44] <adriana-voyce> Also, I apologize if this is not the right way to do this, I am new and I am desperate to find some guidance...
[2021-02-13 00:06:14] <jnizet> If you ask a concrete question, then maybe someone will be able to help.
[2021-02-13 09:50:45] <salman-khandu> Hi All, can anyone please help me to fixASynctimeoutexception [<-LINK->] 
[2021-02-13 09:51:15] <salman-khandu> 
[2021-02-13 09:51:15] <salman-khandu> 
[2021-02-13 17:06:13] <mmaryo> Hello I switch to slf4j2, and choose appender depending of environment is not clearWith logback there is :<springProfile name="prod"> name=With slf4j2 I try to do [<-CODE->] spring.profiles.active is never readI did not find any solution on the internet
[2021-02-13 17:20:07] <mmaryo> finaly I split it one file per environment [<-LINK->] 
[2021-02-14 00:18:05] <Monax111> Hi. How i understend restTemplate is deprecated. And Now if i want upgrade spring on 2.4 i must use webClient? Now have client with method [<-CODE->] but after convert it on WebClient. it look like [<-CODE->] maybe there are simpler alternatives?
[2021-02-14 00:24:28] <konstantinblaesi> shouldn't it be able to infer the input type atbody<ErrorTypeDto>(...)from the argument? Wouldn't you won't to block as late as possible when using webflux?
[2021-02-14 13:08:37] <ascopes> is there a way to override the server hostname used by URLs generated in Spring HATEOAS?I am using a Tomcat Servlet within an MVC Spring Boot project. [<-CODE->]  [<-CODE->]  [<-CODE->] Is there a configuration property to work with this? I understand there is an x-forwarded host header I can use, which makes specifying the hostname in requests proxied by a load balancer helpful, but if I don't want to specify that header, what is the alternative?
[2021-02-14 13:28:22] <wilkinsona> RestTemplate isn't deprecated
[2021-02-14 13:30:08] <wilkinsona> If there's no proxy server or load balancer in front of the app, you shouldn't need to do anything.
[2021-02-14 14:15:21] <ascopes> ah, does it just pick up the host header then?
[2021-02-14 16:34:30] <konstantinblaesi> I assume so. To test you could just modify the hosts file of your system and access your spring app with any fake domain you put in there
[2021-02-14 22:05:00] <Monax111> oauth2RestTemplate - deprecated? [<-LINK->] i seeDeprecation Notice
[2021-02-15 00:24:11] <sakanate> You are right, I used JMeter and jmc command.'jmc' command can realize it.Late reply sry.
[2021-02-15 09:01:39] <DoraRajappan> 2021-02-15 02:47:38,165 ERROR [main] ContextLoader: Context initialization failedorg.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 231 in XML document from class path resource [applicationContext-authorization.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 231; columnNumber: 77; cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element 'global-method-security'.at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)ect this beans specification
[2021-02-15 09:02:13] <DoraRajappan> <global-method-security pre-post-annotations="enabled"
        access-decision-manager-ref="methodAccessDecisionManager" order="2"><expression-handler ref="methodSecurityExpressionHandler" /></global-method-security>
[2021-02-15 09:02:43] <DoraRajappan> im migrating spring security from 3.x to 4.2
[2021-02-15 09:15:12] <DoraRajappan> wilkinsona: how can I resolve this?
[2021-02-15 13:35:11] <FlaviuMuresan1_twitter>  [<-CODE->]  [<-CODE->] 
[2021-02-15 17:11:00] <HaloFour> You need to log the status code after theMono<Void>returned bywebFilterChain.filter(serverWebExchange)completes
[2021-02-15 17:11:53] <HaloFour> At the point it's being logged now is before it's been handled by a controller or router function, so it has the default status code of 200.
[2021-02-15 17:16:27] <HaloFour> You could do something like this: [<-CODE->] 
[2021-02-15 17:27:49] <wilkinsona> Sorry, I don't know. Your question is about Spring Security and, given the versions and that you're using XML configuration, I don't Spring Boot is even involved. In short, this isn't really the right place to ask. Please use Stack Overflow or the Spring Security Gitter channel for this sort of thing.
[2021-02-15 17:29:50] <wilkinsona> You saidRestTemplateabove. I take it you meantOAuth2RestTemplate? That is indeed deprecated, as is the whole spring-security-oauth project.
[2021-02-15 17:30:58] <wilkinsona> The migration guide, linked to from the project's readme, describes the replacement: [<-LINK->] . You don't have to switch to WebClient.
[2021-02-15 18:03:28] <Monax111> thank you
[2021-02-16 04:31:54] <salman-khandu> I have observed that if the whole end-to-end flow is reactive, and the request takes more than 30 secs, Spring throws AyncTimeoutException. If API takes more time mvc.async.request-timeout property need set based on time. Is the correct way to set it timeout?
[2021-02-16 05:49:13] <DoraRajappan> thanks@wilkinsona.. its resolved
[2021-02-16 05:49:33] <DoraRajappan> spring security gitter noone responds
[2021-02-16 07:23:01] <DoraRajappan> I have a spring project . I t has dependency on another project which has application context migrated from 3.x to 4.2. So i had to migrate my spring project to 4.2 jars.. but my spring project application context is still in 3.x and no bean or config specifiedin tit. just and empty application context xml with 3.x name spaces. build is passed. will my spring project have problems at run time?
[2021-02-16 07:26:42] <FlaviuMuresan1_twitter>  [<-CODE->]  [<-CODE->] Output is still "Response code: 200" , while the actual response code that I get is 418
[2021-02-16 07:39:12] <AndersClausen> I've also seen this happening and interested in whether it's a spring boot/reactor/sleuth issue? Maybe@wilkinsonaor@marcingrzejszczakcan shed some light on it?
[2021-02-16 08:22:34] <marcingrzejszczak> IT requires debugging I guess. If you disable Sleuth do you have the same situation? If you don't then it meens it's a Sleuth issue
[2021-02-16 09:35:47] <FlaviuMuresan1_twitter>  [<-CODE->]  [<-CODE->] 
[2021-02-16 09:43:46] <wilkinsona> I think we get this right in Boot'sMetricsWebFilter. We have a test that verifies that a 500 response (due to an exception being thrown) generates the expected metrics.
[2021-02-16 09:45:35] <wilkinsona> We useonSuccessandonErrorbut also with a check for the response having been committed in the error case, deferring the recording of the metrics until the commit if necessary.
[2021-02-16 09:46:06] <wilkinsona>  [<-LINK->] 
[2021-02-16 09:53:17] <marcingrzejszczak> So you do have cases where you don't use Sleuth and you have some strange results?
[2021-02-16 12:21:45] <FlaviuMuresan1_twitter>  [<-CODE->]  [<-CODE->] @marcingrzejszczak I've done a bit more debugging on the original sleuth+otel issue that got me looking into this in the first place, will post on that in the sleuth room so we can move that discussion there
[2021-02-16 12:25:45] <marcingrzejszczak> 
[2021-02-16 15:15:50] <mmaryo> HelloI try to move code from Stream to FluxI notice with ParallelStream, map functions is do in different threadsBut not with FluxI try this [<-CODE->] I see in logs : [<-CODE->] So Flux is waiting the first request before execut the secondHow to switch to real parallel code ?
[2021-02-16 15:31:02] <wilkinsona>  [<-LINK->] is a better place for Reactor questions.
[2021-02-16 15:35:13] <mmaryo> thank you
[2021-02-16 22:28:39] <msampietro> Hi there guys! We have encountered some perfomance issues regarding OSIV enabled by default. We are traying to migrate module by module but OSIV property is globally configured. Any suggestions on how we can accomplish migration OSIV disabled and Lazy initialization Exception handling without affecting the entire project ?
[2021-02-16 22:45:07] <fdutton> Can an application expose one controller using MVC and another as Reactive?
[2021-02-17 11:02:28] <wilkinsona> No, but you can moving towards reactive by returningMonoorFluxfrom your MVC controllers
[2021-02-17 11:42:47] <ilam-natarajan> hi, i am trying to under the below code in ErrorPageFilter
[2021-02-17 11:43:51] <ilam-natarajan>  [<-CODE->] what will be the HTTP verb of the forward here.
[2021-02-17 11:48:42] <wilkinsona> Therequestencapsulates the verb so it'll be whatever's in the request.
[2021-02-17 11:49:50] <ilam-natarajan> thanks@wilkinsona. so if my original request was HTTP POST, and the error path is /error , the forward will be to POST /error ?
[2021-02-17 11:52:13] <ilam-natarajan> context is , I am trying to understand what RequestMapping should I use for the Error Controller I am writing. my sast report suggest me using safe methods (GET, POST, etc in particular ) instead of generic@RequestMapping
[2021-02-17 11:55:42] <wilkinsona>  [<-CODE->]  [<-CODE->] 
[2021-02-17 11:57:23] <ilam-natarajan> thanks again. but if my application exposes only GET and POST , can I just use```@RequestMapping(method = {RequestMethod.GET, RequestMethod.POST} , path =  "/error")
[2021-02-17 11:58:48] <wilkinsona> That depends on how you want error responses to requests that use other verbs to be handled. You may only expose GET and POST, but you can't stop clients from using the other verbs.
[2021-02-17 12:02:14] <ilam-natarajan> thanks@wilkinsona. have a nice day
[2021-02-17 13:40:20] <lpandzic> hello, is Hibernate Validator 7 a requirement for using jakarta.validation-api?
[2021-02-17 13:43:30] <lpandzic> and what happens if both javax and jakarta validation-api are on classpath?
[2021-02-17 13:51:36] <wilkinsona> No. There are different versions of jakarta.validation-api. The 2.0.x line is a drop-in replacement for javax.validation-api. The 3.0.x line changes the packages to jakarta.*. Hibernate Validator 6 should be used with 2.0.x. Hibernate Validator 7 should be used with 3.0.x. From a Spring Boot perspective, you should stick with Hibernate Validator 6 and Validation API 2.0.x.
[2021-02-17 13:57:58] <lpandzic> Thanks!
[2021-02-17 21:41:30] <TheDutchMC> Hey there. Quick question. I'm having some issues with the spring.factories file in META-INF, it's loading the wrong one. Is there any way to specify a custom path? E.g CUSTOM-META-INF/spring.factories?
[2021-02-17 22:10:15] <wilkinsona> There's no way to customize it. The use ofMETA-INF/spring.factoriesis hardcoded inSpringFactoriesLoader.
[2021-02-18 09:46:22] <rowi1de> Hey guys, not sure about the channel:I'm getting the following error while running a spring integration test on GitHub Actions related to security / oAuth2 Token Retrieval [<-CODE->] It works locally without problemsSpring Security: 5.4.2Spring Boot 2.4.2
[2021-02-18 13:37:54] <DoraRajappan> seems no problem at runtime also...
[2021-02-18 14:28:23] <wilkinsona>  [<-LINK->] might be a better place for this one.
[2021-02-18 17:31:48] <rowi1de> Wasn't sure where the issue is coming from, as it seems to be a generic netty problem. But I'll try it over there
[2021-02-18 18:14:06] <amirensit> hello.Any idea where to findweb filtersin official documentation ?
[2021-02-18 19:18:14] <wilkinsona>  [<-LINK->] , perhaps
[2021-02-18 22:27:37] <NoorKrichen> Hi, getting a web service that returns an internal server error, the response body not displayed totally, it is cut down and at its end '(n bytes)' is written.Example:org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: [{"HttpStatusCode":404,"CustomMessage":"The ProjectGroup doesn't exist","Exception":{"Errors":null,"Type":0,"GlobalModelId":null,"Message":"The ProjectGroup doesn't exist","Data":{},"InnerException":nu... (2355 bytes)]Can we configure the size of the error message displayed in the log or force HttpServerErrorException.create to trace the full response ?thanks in advance.
[2021-02-19 01:31:29] <caron97> Hello, there may be an improvement about a frequently-used collection "PageImpl<T>".When using Redis to cache PageImpl, it cannot be deserialized correctly by "Jackson ObjectMapper" because it does not have 'NoArgsConstructor'. I have to implement a "DeserializablePage<T>" and clone all contents of PageImpl<T> into it.Could Spring provide a NoArgsConstructor for PageImpl<T> to ensure this collection can be deserialized easily?
[2021-02-19 06:44:37] <amirensit> it is not the part I am looking for.
[2021-02-19 06:44:55] <amirensit> https://www.tutorialspoint.com/spring_boot/spring_boot_servlet_filter.htmhttps://www.baeldung.com/spring-boot-add-filter
[2021-02-19 07:00:16] <amirensit> here is the only part in documentation that I found in how-to-guides
[2021-02-19 07:00:43] <amirensit>  [<-LINK->] 
[2021-02-19 07:12:16] <munan56> Hello，when I execute mvn package, spring-boot-configuration-processor.jar will not be packaged. What is the cause of this? Can anyone help me? Git address [<-LINK->] 
[2021-02-19 08:23:12] <wilkinsona> Ok, so what are you looking for?
[2021-02-19 08:23:53] <wilkinsona> That's a question for the Spring Data team. You can find them in [<-LINK->] 
[2021-02-19 08:27:11] <wilkinsona> It's an annotation processor so it's only used at compile time. Spring Boot's Maven plugin automatically filters it out of the jar that it builds:spring-projects/spring-boot@e743d5f
[2021-02-19 08:33:46] <wilkinsona> Yes, you can. Configure yourRestTemplatewith a customResponseErrorHandler. It'sDefaultResponseErrorHandlerthat's truncating the body. Unfortunately itsgetErrorMessagemethod is private so you can't override it and the maximum length is hardcoded at 200. That means you'll have to provide your own implementation. You may want to raise a Spring Framework issue to see if they'd consider makingDefaultResponseErrorHandlerextensible or configurable: [<-LINK->] 
[2021-02-19 08:50:55] <munan56> It's helpful .Thanks very much
[2021-02-19 09:11:29] <caron97> Thanks.
[2021-02-19 09:12:38] <amirensit> clarification about servlet filters, how to add, what they do ect ...
[2021-02-19 09:12:51] <amirensit> in official documentation of course
[2021-02-19 09:37:13] <peterluttrell_twitter> When my SpringBoot apps starts up I need to dynamically retrieve my Cassandra node addresses. [<-CODE->]  [<-CODE->]  [<-CODE->]  [<-CODE->] Is there a way to disable the default value without setting it to something? There's really not a logical default as I won't ever know what to set it to at moment SpringBoot completes it's property configuration phase.
[2021-02-19 09:38:38] <wilkinsona> You've found the documentation on how to add them. They're part of the Servlet spec so that's the place to look for official documentation on what they do.
[2021-02-19 09:44:08] <wilkinsona> I think you should be able to do it with aDriverConfigLoaderBuilderCustomizer.
[2021-02-19 14:20:12] <springroll12> Hello. Are the spring boot health checks not included as prometheus metrics when using micrometer? I hoped to see all the health checks in the prometheus endpoint but I don't see them.
[2021-02-19 14:24:58] <erichelgeson> where is the list of pre-defined oauth endpoints that are "well known"? eg, google, facebook, github that show up when you just add the keys
[2021-02-19 14:30:30] <erichelgeson> ahh found it - CommonOAuth2Provider
[2021-02-19 14:30:53] <armsargis> Hi, is it correct behavior that methods annotated with  @PreUpdate and @PreRemove called after [<-CODE->] beforeCommit(), actually if I add TransactionSynchronizationAdapter {} in @PreUpdate/@PreRemove methods beforeCommit() never  called but it works for @PrePersistsomething like: [<-CODE->] for spring-boot 2.4.2
[2021-02-19 14:47:19] <armsargis> I suppose beforeCommit() should be called after UPDATE SQL statement but seems its called before
[2021-02-19 15:37:40] <wilkinsona> Assuming you're usingDataSourceTransactionManager,beforeCommitis called before callingcommiton the connection.
[2021-02-19 15:44:34] <wilkinsona> If it'sJpaTransactionManager,beforeCommitis called before callingcommiton theEntityTransaction.
[2021-02-19 15:46:44] <wilkinsona> If the ORM doesn't make any updates to the database until theEntityTransactionis commited, then what you're seeing sounds correct to me. The commit will initiate the updates, at which point preUpdate will be called.
[2021-02-19 16:18:12] <springroll12> Hrmm. I recently switched to spring boot 2.4 and almost all the metrics are now missing from /actuator/metrics and /actuator/prometheus. We jumped from 2.2 -> 2.4. Is there some change I need to make?
[2021-02-19 16:27:38] <snicoll> Hard to say with the information you’ve shared.
[2021-02-19 16:27:57] <snicoll> (It shouldn’t do that, no).
[2021-02-19 17:32:26] <springroll12> snicoll: I'm also running undertow instead of tomcat if that matters? Also a JRE built with jlink (some pieces are removed, but this is not new).
[2021-02-19 17:34:30] <JamesPace-GBI> Hey everyone, I have a spring-boot related Maven question. I have a project that depends on the spring-boot-dependencies pom like this: [<-CODE->] Which in turn has another dependency on the log4j-bom like this: [<-CODE->] I'm trying to exclude the log4j-bom but it won't go away. Does maven not support excluding pom imports? We have our own logging module bom and the spring one is taking priority as Maven finds it first...
[2021-02-19 17:39:02] <springroll12> I should say that only the jdbcand httpmetrics are showing up. If I swap to tomcat I get some information about tomcat sessions but nothing else. All JVM, process_, logback and so on metrics are missing.
[2021-02-19 17:52:48] <wilkinsona> You can exclude a bom that's imported by another bom. Maven doesn't support it. You should be able to get the behaviour that you want by changing the ordering of your imports. IIRC, the first dependency management that's encountered for a particular module will win. If that recollection is correct, importing your logging module bom beforespring-boot-dependenciesshould work. If my recollection's the wrong way round, importing your logging module bom afterspring-boot-dependenciesshould do the trick.
[2021-02-19 17:53:40] <JamesPace-GBI> Yeah that's the issue, the spring dependency is coming via a parent POM which has the dependency management, which I assume is resolved first
[2021-02-19 17:56:07] <wilkinsona> That sounds as if it may be related to MBeans. For example, Micrometer'sJvmMemoryMetrics, which Spring Boot auto-configures, uses theBufferPoolMXBeanandMemoryPoolMXBeanMXBeans. Perhaps they're unavailable in your JRE?
[2021-02-19 17:57:09] <wilkinsona> You could start your application with--debugand check thatJvmMetricsAutoConfigurationhas defined its beans. If it has, then the metrics' absence is MXBean-related.
[2021-02-19 17:58:13] <wilkinsona> Yeah, the parent wins over any imports in the pom itself. Can you fix the problem in the parent by importing your logging module bom beforespring-boot-dependencies?
[2021-02-19 18:00:50] <JamesPace-GBI> The parent doesn't know about that common thing, it's kinda of an abstraction higher up. This codebase is a grade A mess :(
[2021-02-19 18:13:17] <springroll12> wilkinsona: Here's what I'm using to build my JRE. It starts off as openJ9 if that matters:
[2021-02-19 18:13:32] <springroll12>  [<-CODE->] 
[2021-02-19 18:14:53] <springroll12> also did you mean --debug as in set the log level to debug, or is there a spring flag that I need to pass to gradle bootRun?
[2021-02-19 18:15:31] <springroll12> Now that I think about it though, this happens both with my custom JRE and the openjdk on my development laptop, so I doubt it's JRE related.
[2021-02-19 18:16:41] <snicoll> 
[2021-02-19 18:27:49] <springroll12> another thing I thought might be related is that I've got actuator on a different port (9090) from the normal servlet.
[2021-02-19 19:20:05] <wilkinsona> I meant passing in--debugas a command line argument
[2021-02-20 10:34:25] <melvinkoopmans> Hi everyone! I'm working on a Spring Cloud Config server that loads configuration from a Git repository. When I run the main class directory from IntelliJ it works fine and loads all the configuration from the repo. When I then package the application into a jar file and run that jar file it doesn't load the values from the Git repository. At first I thought it might fail to load the configuration from the bootstrap.yml, but looking at /env I can see it has the those values set properly. Am I missing something here? You can find the repo here: [<-LINK->] (configserver = Spring app and config is the directory with all the yaml files).
[2021-02-20 11:00:57] <melvinkoopmans> I solved the problem by changing theurito " [<-LINK->] " and setting thespring.cloud.config.server.git.default-labeltomain:)
[2021-02-20 13:03:37] <armsargis> As I said it works in different way for @PrePersist also I supposed it should work like this for the following code: [<-CODE->] So on repository update it will call PreUpddate/PostUpdate and on exiting from transactional method it will call beforCommit() -> will commit  -> call afterCommit() something like that.
[2021-02-20 14:14:00] <kamalhm> what is the recommended spring boot project for api gateway? I'm quite confused with the available options
[2021-02-21 07:37:27] <amirensit> for anyone fun of dark mode documentation, here is the [<-LINK->] 
[2021-02-21 07:37:44] <amirensit> 
[2021-02-21 08:54:18] <wilkinsona> I'm not sure why you'd expect that to always be the case. As I said above, if the ORM doesn't update the database until commit, what you're seeing is to be expected. I believe that's Hibernate's default behaviour. You can configure it by setting the flush mode. There's nothing Spring (Boot or Framework) specific about this, BTW.
[2021-02-21 08:55:28] <wilkinsona>  [<-LINK->] is the official Spring project for creating an API gateway
[2021-02-22 09:25:56] <fdr:matrix.org> hello here ... im getting some (probably newcommer) problems with webflux and tests . ... is here to right place to try to find some help ?
[2021-02-22 10:50:46] <armsargis> TransactionalEventListenerhandling logic is spring boot specific  and triggerBeforeCommit is fired byorg.springframework.transaction.support.AbstractPlatformTransactionManager#processCommitso its spring-boot specfic
[2021-02-22 10:52:47] <armsargis> actually what I want is to implement auditing logicin prePersist() I will add transaction synchronization and in beforeCommit() I will send to Kafka lets say. In case of failure I will throw exception and rollback DB transactions also. Anyway I guess its not part of spec.
[2021-02-22 10:59:27] <wilkinsona> I was replying to your comment about@PrePersistand@PreUpdate. The behaviour of those isn't Spring-specific as it's specified by JPA and implemented by Hibernate.
[2021-02-22 11:56:14] <aucampia> I'm trying to determine all config options for this: [<-LINK->] 
[2021-02-22 11:56:25] <aucampia> But I am not sure how/where
[2021-02-22 12:02:25] <wilkinsona> Isn't that what the YAML is showing? [<-CODE->] I think that's all the options that are supported.
[2021-02-22 12:03:22] <wilkinsona> Welcome. If you're using Spring Boot then, yes, this is a good place to ask.
[2021-02-22 12:22:58] <aucampia> what class is interpreting this?
[2021-02-22 12:23:04] <aucampia> the cors stuff is not having the effect I expect
[2021-02-22 12:35:40] <aucampia> and for example, what values are supported for context-setting
[2021-02-22 12:35:52] <aucampia> Maybe those are all the options but still it is not ideal
[2021-02-22 12:35:59] <aucampia> dooes not help me to see how it flows through the system
[2021-02-22 12:36:10] <aucampia> if someone can point to a class or something I can trace it further
[2021-02-22 12:40:08] <armsargis> What I understand based on spec its not definied when it will be fired just defined that it will be fire before insert and before update and not any happen before relationship with transactional events.Thanks Andy for your help. Will try findout what how to solve my problem.
[2021-02-22 12:45:44] <bclozel> I think it must be binding to [<-LINK->] 
[2021-02-22 12:46:53] <bclozel> BTW the Spring Boot team is not maintaining this library, so reaching out to the maintainers here might give you better results: [<-LINK->] 
[2021-02-22 13:32:58] <konstantinblaesi> does anyone have experience with RestTemplate and azure insights? Can it a) track retries (from@Retry)  and b) maybe include the rest template bean name in azure insights logs (to filter logs based on 3rd party service name for example)?
[2021-02-22 13:34:48] <salman-khandu> Is there any way to call @Transactional method from the lambda function?public class Foo {public BiFunction<String, String, Mono<Response>> authenticate = (request,        requestparam) -> { [<-CODE->] }@Transactional("ldapTransactionManager")    public void foo(....) {        ........    }}
[2021-02-22 13:34:49] <konstantinblaesi> Recently netflix opensourced their implementation of graphql with spring boot (also graphql-java based), maybe it's interesting for you [<-LINK->] 
[2021-02-22 13:41:54] <bclozel> Thanks! We're already in touch with the DGS team.
[2021-02-22 13:45:05] <konstantinblaesi> Transactional: uses aspect oriented programming. Your Foo instance will be wrapped by a proxy that adds the transactional behavior, but this proxy behavior is only applied for calls that are not internal. So this.foo() will not get the transactional behavior, but a Bar instance doing fooInstance.foo() would
[2021-02-22 13:50:45] <aucampia> thanks
[2021-02-22 16:15:13] <kremerkp> Hello,I am trying out websocket on a springboot Framework Project. I found a git-repo that works fine as base: https://github.com/akarasev/stomp-spring-react/blob/develop/src/App.jsThe only issue is, that it only works as long as I run the project with embedded Tomcat or run the JAR File directly with java -jar.I then can call ws://localhost:8088/ws and get an open connection. I used Firecamp to check that out.When I change packaging to WAR and deploy the War-File (renamed as ROOT.war so that I can use it with the same url) to Tomcat. I am getting an unexpected server response 404. There is nothing inside the Log-File.Is there anything I need to configure on the tomcat server?I am thankful for every helpEmbedded TC: Starting Servlet engine: [Apache Tomcat/9.0.41]Standalone TC: Server Version:        Apache Tomcat/9.0.43Both running on JDK 14
[2021-02-22 17:17:55] <wilkinsona> Does [<-LINK->] help? Specifically, do you have a class that extendsSpringBootServletInitializer?
[2021-02-22 18:52:37] <Chessray> Hello,I'm playing through a tutorial on Webflux testing and hitting a blocker. This is my test class: [<-CODE->] As you may have guessed, the application uses two types of endpoints: The classical style controllers and the functional-style ones. When I run the application, I can hit all of them. However, the test doesn't reach the functional ones and instead errors with 404. What am I missing? The complete project is here: https://github.com/Chessray/webflux-demo
[2021-02-22 19:02:28] <bclozel>  [<-LINK->]  [<-CODE->] 
[2021-02-22 19:03:50] <bclozel> I think in this case you can@ImportyourHelloRouterandHelloHandleron your test class.
[2021-02-22 19:05:19] <Chessray> I knew it was something basic. THank you.
[2021-02-23 08:19:32] <kremerkp> Thank you! With the extend it works like it should.
[2021-02-23 10:29:03] <mmaryo> Hello, is it a good way to start infinit Flux in@Bean?Or do it another way like@PostConstructor startup hook ? [<-CODE->] 
[2021-02-23 11:00:14] <EATONJIANGHAHAHA> Hi All! Does the community have a plan on integrating resin as an embedded server?
[2021-02-23 11:11:39] <Marwenjf> Hi everyone, i have a question: how can i use oracle sql function in a query on the repository?
[2021-02-23 11:54:07] <DoraRajappan> Actually Spring-security question,...Whats the best solution to upgrade forom spring security 3.x to 4.x and avoid exception below for double slasshes in url? The server encountered an unexpected condition that prevented it from fulfilling the request.</p><p><b>Exception</b></p><pre>org.springframework.security.web.firewall.RequestRejectedException: The request was rejected because the URL was not normalized
[2021-02-23 12:38:10] <wilkinsona> Given that you're not using Spring Boot, please ask Spring Security questions in [<-LINK->] .
[2021-02-23 12:40:10] <DoraRajappan> thank you ... but noone attends that channel
[2021-02-23 12:40:30] <DoraRajappan> its not even read!
[2021-02-23 12:41:29] <DoraRajappan> i wish there was a spring channel
[2021-02-24 20:32:08] <Fryie>  [<-CODE->] The weird thing was that the failures were occurring in tests that didn't even have nested test cases inside them, but it's possible that other tests with nested test cases somehow failed to properly clean up after themselves and caused weird issues for later tests.
[2021-02-25 01:23:42] <uthircloudnative> Hi I am using Spring Boot 2.4 with Jpa and using@EnableJPAAuditingfeature. When creating and updating an entry I want to pass dynamic value for CreatedBy/UpdatedBy for each request from the Rest Request body instead of relying in AuditorAware<String> bean is it possible. Pls note I am not using Spring Security. One way is not defining/relying on CreatedBy/UpdatedBy in AuditorAware is there any other way? pls give input.
[2021-02-25 08:24:23] <kenshinji> Hello, guys, I encountered an issue regarding using Redis cache metrics in springboot 2.4.2. Anyone has clue about this? [<-LINK->] 
[2021-02-25 09:10:16] <peterluttrell_twitter> What's the recommended approach for initializing a Cassandra database in the following project: I'm running Cassandra in a local Docker container. I have an@Configurationclass that that builds theCqlSession. I have a class that uses theCqlSessionand on@PostConstructinitializes the prepared statement, which requires the test database to already be initialized. What's the recommended approach for initializing the Cassandra database so that it runs ahead of the@PostConstructin the bean that depends on it?
[2021-02-25 18:27:19] <wpfeiffe-arbfile> Does anyone know how to investigate which base images are used for the bootBuildImage?  How does the plugin determine which java version to use, etc?  Docs don't touch on this in detail .
[2021-02-25 19:54:25] <wilkinsona> What are you using to get Cassandra up and running at the moment?
[2021-02-25 19:55:29] <wilkinsona> If it were done via a bean and you marked your class that initialises the prepared statement to depend on that bean (using@DependsOn), I think you'd get the behaviour that you want
[2021-02-25 20:25:48] <jonatan-ivanov> It is using the Paketo Java Buildpack that is using BellSoft Liberica: https://paketo.io/docs/buildpacks/language-family-buildpacks/java/#about-the-jvmThis should tell you the details you need. [<-CODE->]  [<-CODE->] 
[2021-02-25 21:40:34] <scottfrederick> The docs show the default builder as the default value for thebuilderproperty: [<-LINK->] 
[2021-02-25 21:41:32] <scottfrederick> with Boot 2.4, it’spaketobuildpacks/builder:base. The Java-related buildpacks included in that builder are documented in the Paketo docs here: [<-LINK->] 
[2021-02-25 21:43:20] <wpfeiffe-arbfile> Thanks for responses.  Just getting up to speed on the bootBuildImage and it looks like the real work is in the buildpack infrascture.
[2021-02-25 21:43:50] <scottfrederick> The Spring Boot docs don’t touch on details like JVM provider, version, etc because the Boot plugins are delegating all the real work of building the image to a CNB builder and buildpacks.
[2021-02-25 21:44:28] <wpfeiffe-arbfile> Thanks@scottfrederick.  That makes sense.
[2021-02-25 21:47:51] <scottfrederick> The Paketo docs are pretty good if that’s the builder/buildpacks you’re using. If you have deeper questions there the Paketo slack is very active for support.
[2021-02-25 21:50:03] <wpfeiffe-arbfile> Thanks@jonatan-ivanovfor heads up on InfoContributor.   I can see the info as the gradle build runs, just wonder where the decisions are make (How does it KNOW I'm on java 11?).  Assuming spring boot gradle plugin is pulling from gradle.build, but would like to see documentation on behavior of plugin vs. my assumptions.
[2021-02-25 21:51:40] <wpfeiffe-arbfile> I guess paketo is doing much of this.  I'll review paketo docs as@scottfredericksuggests
[2021-02-25 21:53:30] <JamesPace-GBI> I have a really weird thing happening in my spring boot application concerning logging and MDC variables. I'm using log4j 2.14.0 and have a json layout with the following config: [<-CODE->]  [<-CODE->] 
[2021-02-25 21:54:03] <scottfrederick> Note this info in the Boot docs in the section I linked above:The plugin detects the target Java compatibility of the project using the JavaPlugin’s targetCompatibility property. When using the default Paketo builder and buildpacks, the plugin instructs the buildpacks to install the same Java version. You can override this behaviour as shown in the builder configuration examples.
[2021-02-25 21:54:38] <JamesPace-GBI> Shouldn't the stack trace be in the message as perincludeStacktrace : true? And why that MDC variable? How or what could have done that?
[2021-02-25 21:59:59] <wpfeiffe-arbfile> Yup the big info icon!  How could I miss that! (I did).  Looking at the build output shows the buildpack env vars being used to configure the image is helpful as well.  Looks like I can set all these in the env sections of the bootBuildImage configuration.
[2021-02-25 23:56:50] <peterluttrell_twitter> My company has tooling that manages Cassandra's lifecycle. From the app's perspective it'll be up ahead of the app, but with no schema or data.
[2021-02-26 00:01:00] <peterluttrell_twitter> Let's call the bean that uses theCqlSessionand intializes the prepared statements in a@PostConstructa respiratory, but not a Spring Data one. For tests only I need to write a class that initializes the schema and also need theCqlSessionin it.
[2021-02-26 00:01:30] <peterluttrell_twitter> It seams logical to place the schema initialization code also in a@PostConstruct. Is there a way to control the order of@PostConstructexecution?
[2021-02-26 00:21:37] <peterluttrell_twitter> To make it a little more concrete:In /src/main/java... [<-CODE->] In /src/test/java... [<-CODE->] 
[2021-02-26 04:24:17] <juliusspencer_twitter>  [<-CODE->]  [<-CODE->] 
[2021-02-26 08:35:44] <wilkinsona> Why not change your code the defines theCqlSessionbean to call yourCassandraTestInitializer? Don't injectCqlSessionintoCassandraTestInitializer, but pass it in as a parameter toinitializeCassandraSchemainstead.CassandraTestInitializerwouldn't need to be a bean.
[2021-02-26 08:52:04] <wilkinsona>  [<-LINK->] is probably a better place to ask this one.
[2021-02-26 10:33:49] <NoorKrichen> thank you :D
[2021-02-26 10:41:04] <NoorKrichen> HiUsing RestTemplate to perform a GET request : ResponseEntity<String> response = restTemplate.exchange("https:// .../longRequest", HttpMethod.GET, entity, String.class);This request takes 7 minutes to respond, it is working well via Postman but on the Spring application the request is executed but it never returns a response.I do not think is a proxy problem because I tried the same app on different environments.Do you have an idea about this topic and how to resolve it ?
[2021-02-26 13:05:29] <wilkinsona> Which HTTP client are you using underneath yourRestTemplate?
[2021-02-26 13:18:55] <NoorKrichen> Apache HttpClinet 4.3
[2021-02-26 13:40:18] <wilkinsona> Thanks. First thing I'd do is check the timeouts configured on the client. If that doesn't help, I'd take a thread dump at a point where you think the response should have been received but it hasn't to see what the client's doing. You could also try enabling some logging. IIRC, HttpClient can log every byte that it sends and receives if you ask it to.
[2021-02-26 15:54:52] <springroll12> wilkinsona: I was having an issue a week or so ago where Prometheus metrics for JVM would not show up in actuator. I just wanted to say that I solved it using this: [<-LINK->] and that your help pointing me towards the bean initialization order was crucial to getting me there. Thanks!!
[2021-02-26 15:58:04] <wilkinsona> Thanks for letting me know. Glad I could help :)
[2021-02-26 17:47:07] <Rrok_gitlab> 
[2021-02-26 18:51:53] <bclozel> Could you ask this question on a JHipster-specific channel? This channel is really about Spring Boot, so you won't get much help about the JDL studio here.
[2021-02-27 21:17:57] <userInterview> 
[2021-02-27 21:45:22] <konstantinblaesi> how is this spring related?
[2021-02-27 22:03:18] <userInterview> ok
[2021-02-27 22:03:49] <userInterview> why jhipster ?
[2021-02-27 23:55:17] <merusso> What does the Spring team think of OpenTelemetry (OTel)?OpenTelemetry is a set of APIs, SDKs, tooling and integrations that are designed for the creation and management of telemetry data such as traces, metrics, and logs. The project provides a vendor-agnostic implementation that can be configured to send telemetry data to the backend(s) of your choice. It supports a variety of popular open-source projects including Jaeger and Prometheus.I'm confused about the level of support that this project has for Spring. According to this list and another one here, many Spring projects are already supported (Web MVC, Webflux, Data, Scheduling) via "automatic instrumentation" (Java agent). There's also some documentation here for "manual instrumentation".However, from Spring's website, I don't see any mention of this project – no documentation, guide, blog post (sorry if I just missed it). The only mention I do see is Spring Cloud Sleuth OTel, an incubator project just focused on tracing.Is OTel support a priority for the Spring team? Are there any plans to support more than just tracing? Any plans to add documentation or a guide, perhaps with some comparison of automatic vs manual instrumentation?I'd really appreciate some clarification on this! I'm quite confused by the current state of this project and I'm hesitant to adopt it without clear support from the Spring team.
[2021-02-28 11:54:30] <Faelivrinx> Could someone take a look at [<-LINK->] ? I'm struggling with tracing in Reactive Spring and still searching for the best and clean solution to implement traceId in my microservices structure. Thanks and enjoy your day!
[2021-02-28 16:35:41] <merusso> You're describing some of the functions of distributed tracing, header propagation and log correlation. [<-LINK->] is a distributed tracing project and can handle both of these functions. It is also often configured (but not required) to send the data it captures to a distributed tracing server like Zipkin or Jaeger, so you can visualize distributed traces across multiple systems.
[2021-02-28 17:16:28] <HaloFour> OpenTelemetry SDK and Instrumentation APIs have implementations of WebFilter and ExchangeFunction you can use to propagate trace content between downstream/upstream.  They also have Reactive operators
[2021-02-28 17:43:45] <HaloFour> Is there an official Spring implementation of WebFluxClientHttpConnectorfor Java 11 HttpClient?  I saw a PR for one from a separate project that is offering an implementation.
[2021-02-28 18:38:18] <merusso> HaloFour: , how would you compare that to Spring's own Sleuth project?
[2021-02-28 18:40:00] <HaloFour> I've not used Sleuth, but OpenTelemetry is an attempt to standardize tracing APIs and conventions across many frameworks and languages.
[2021-02-28 18:48:37] <merusso> That's right, but it's still a new project in beta and needs to have good Spring support for it to be useful for Spring projects, right? I just asked a question above this one regarding Spring support for OTel, hopefully can get some clarification on that.
[2021-02-28 18:52:16] <HaloFour> OTel Java went 1.0 on Friday, the instrumentation library will likely go 1.0 this upcoming week although it's likely to always be a work in progress.  The instrumentation APIs are designed to work with a variety of frameworks including Spring.  I agree that it would be nice to have Spring backing that instrumentation work.
[2021-03-01 07:33:16] <amirensit> hello.Any idea aboutMediaType.APPLICATION_STREAM_JSON_VALUEwith webflux ?It is deprecated, and when I triedMediaType.APPLICATION_NDJSON_VALUEdoes not work.
[2021-03-01 07:49:47] <amirensit> I am using 2.4.3 version
[2021-03-01 08:13:11] <bclozel> we do have codec and handlers integration tests in framework for that. Do you have a sample application that shows the problem? If so, could you create an issue on the Spring Framework project?
[2021-03-01 08:17:56] <amirensit> Here is my [<-LINK->] in github
[2021-03-01 08:18:43] <bclozel> Not yet official support for that, but there's a PR:spring-projects/spring-framework#23432It seems someone extracted that to a separate starter if you'd like to use it before it's officially supported.
[2021-03-01 08:52:02] <bclozel> Your sample works for me
[2021-03-01 08:52:21] <bclozel>  [<-CODE->] 
[2021-03-01 09:00:35] <amirensit> It didn't work with ARC chrome extension and event directly  with the browser
[2021-03-01 09:01:03] <amirensit> maybe I need to use curl or something like that
[2021-03-01 09:11:35] <bclozel> I'm using httpie with the stream option
[2021-03-01 09:11:54] <bclozel> depending on the client (if it knows about this media type), it might be buffering until the response ends...
[2021-03-01 09:16:00] <amirensit> okey. Thanks Brian
[2021-03-01 10:44:57] <JanVdloock> Having Spring Boot 2.4.3 with webflux and BlockHound.install(), getting static content (e.g. `/error.png`) throws a blocking call exception from BlockHound :reactor.blockhound.BlockingOperationError: Blocking call! java.io.RandomAccessFile#readBytesat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java) ~[na:na]Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:Error has been observed at the following site(s):|_ checkpoint ⇢ HTTP GET "/error.png" [ExceptionHandlingWebHandler]Stack trace:at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java) ~[na:na]at java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:406) ~[na:na]at java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:470) ~[na:na]at java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1298) ~[na:na]at java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:997) ~[na:na]at java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:1012) ~[na:na]at java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:467) ~[na:na]at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:159) ~[na:na]at java.base/java.io.FilterInputStream.read(FilterInputStream.java:133) ~[na:na]at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284) ~[na:na]at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326) ~[na:na]at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178) ~[na:na]at java.base/java.io.InputStreamReader.read(InputStreamReader.java:185) ~[na:na]at java.base/java.io.BufferedReader.fill(BufferedReader.java:161) ~[na:na]at java.base/java.io.BufferedReader.readLine(BufferedReader.java:326) ~[na:na]at java.base/java.io.BufferedReader.readLine(BufferedReader.java:392) ~[na:na]at org.springframework.http.MediaTypeFactory.parseMimeTypes(MediaTypeFactory.java:71) ~[spring-web-5.3.4.jar:5.3.4]at org.springframework.http.MediaTypeFactory.<clinit>(MediaTypeFactory.java:47) ~[spring-web-5.3.4.jar:5.3.4]at org.springframework.web.reactive.resource.ResourceWebHandler.getMediaType(ResourceWebHandler.java:579) ~[spring-webflux-5.3.4.jar:5.3.4]at org.springframework.web.reactive.resource.ResourceWebHandler.lambda$handle$2(ResourceWebHandler.java:407) ~[spring-webflux-5.3.4.jar:5.3.4]at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.3.jar:3.4.3]at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:73) ~[reactor-core-3.4.3.jar:3.4.3]
[2021-03-01 11:06:29] <wilkinsona> I think that's probably worth reporting as a Framework bug. You can avoid the problem by causingorg.springframework.http.MediaTypeFactoryto be loaded outside of the handling of a web request.
[2021-03-01 13:12:16] <ask4gilles>  [<-CODE->]  [<-CODE->] Does it ring the bell @bclozel ?
[2021-03-01 13:24:08] <bclozel> No. You can create a new issue in Spring Framework if you've got a sample project.
[2021-03-01 13:35:08] <ask4gilles> It seems to be flaky (happened during load test with Jmeter), so I'm not able to reproduce it 100 percent of the time...(shouldn't thecurrentStepspeekFirst()?)
[2021-03-01 17:13:18] <konstantinblaesi> Trying to use@ConditionalOnBean(TelemetryClient.class)to only create a bean when an instance of TelemetryClient (azure insights for java) is available. For some reason it fails to detect that an instance is available, injecting into the@Beanfactory method works if I remove the@ConditionalOnBean(...). Any idea why this bean is not detected?
[2021-03-01 17:18:54] <bclozel> why?
[2021-03-01 19:39:10] <juliusspencer_twitter> Thanks@wilkinsonaI gave that a try, but it looks like it's abandoned, except for people asking questions. Do you think that could that be the case?
[2021-03-01 19:44:19] <bclozel> depending on where that annotation is set, it might be related to this: [<-LINK->] 
[2021-03-01 19:45:49] <bclozel> short version: you can only use this annotation on an auto-configuration (so registered as such with spring.factories) and if another auto-configuration provides this bean, you need to order auto-configuration with@AutoConfigureBefore/@AutoConfigureAfter
[2021-03-01 20:17:19] <AndersClausen> Hi@scottfrederick. I saw your replies above regarding buildpacks and thought you would be the man to ask about a problem I'm having. I've been provided a Paketo buildpack by the Datadog team, which gives me a chance of including the Datadog trace agent (and then get APM data), when using the spring-boot-maven-plugin to create my docker image. However, am I right in saying that I need to create a new builder that brings in the Datadog buildpack and then configure that builder in the plugin section of my POM file? Alternatively, are there any good docs you can refer me to that might have an example? I'm looking to use something similar to what's described in theConnecting to an APMsection on this page [<-LINK->] but for Datadog. Thanks for your time
[2021-03-01 20:20:15] <scottfrederick> Hi@AndersClausen. If you’re willing to use a milestone or snapshot version of Boot 2.5.0, there’s an easy way to use the default Paketo builder and just add the Datadog buildpack to what’s already in the builder: [<-LINK->] 
[2021-03-01 20:21:46] <scottfrederick> in the image/buildpacks config you’d list your buildpack along withpaketo-buildpacks/javato pull in all the rest of what’s in the builder
[2021-03-01 20:22:15] <AndersClausen> Fantastic! I knew you were the man to ask :-D Thanks mate, I'll try out the snapshot. I'll feed back to let you know if I was successful :-)
[2021-03-01 20:22:15] <scottfrederick> with Boot 2.3 or 2.4 you would need to create a new builder that included your additional bp
[2021-03-01 20:24:18] <scottfrederick> If the Datadog buildpack requires a binding to expose the Datadog credentials to the agent at image build time, there’s also newimage/bindingsconfig in the latest Boot 2.5 snapshots: [<-LINK->] 
[2021-03-01 21:46:27] <AndersClausen> Great, I'll keep that in mind. Thanks Scott
[2021-03-02 04:58:16] <salman-khandu> Can someone please help me to resolve [<-LINK->] issueThank you
[2021-03-02 12:56:21] <bilak> Hello, is there some way how to setzonein  spring's@Scheduledglobally? I mean we are using UTC almost everywhere and also jobs are being executed at UTC time but that always confuses us. So we'd like to configure execution time to zone where we live.
[2021-03-02 14:55:21] <merusso> I added an answer and link to the docs
[2021-03-02 15:00:02] <wilkinsona> I don't believe so, no. The processing ofScheduledis done inScheduledAnnotationBeanPostProcessor.processScheduled(Scheduled, Method, Object)where it either uses the value of thezoneattribute or, if there's none, it usesTimeZone.getDefault().
[2021-03-02 15:55:12] <mplain>  [<-CODE->] this code leads to ClassCastException if the response body is nullis this intended?should I use a nullable type as T (e.g. postForObject<String?>), or should I file a bug report?
[2021-03-02 15:57:09] <wilkinsona> Where's that code from? I'd guess it's Spring Framework given the version number.
[2021-03-02 15:58:05] <mplain> yes, sorry, it's spring-web
[2021-03-02 15:59:30] <wilkinsona> The Framework team don't use Gitter so you're unlikely to get a definitive answer here (and this is the Spring Boot channel). Opening a Framework issue is probably your best option.
[2021-03-02 16:00:36] <mplain> ok, thanks!
[2021-03-02 17:19:11] <abenhmida> Hi guys, need some advise. I have an old XML-RPC client which needs to connect with a newly developed  based on spring-webflux. The question is how hard it is to integrate a simple  XML-RPC server in the app? what I am thinking about is to expose a little layer based on XML-RPC to adapt to a classic "@RestController".
[2021-03-02 17:42:06] <merusso> Anyone have any thoughts on OTel? How does it fit in vs Sleuth/Micrometer?
[2021-03-03 01:48:32] <abhishekhbd> How to create spring boot custom library with all dependency.? I am using gradle as build tool.
[2021-03-03 02:30:19] <cangkuren> How to configure WebTestClient to avoid exception: DataBufferLimitException: Exceeded limit on max bytes to buffer : 262144. I configure the max-in-memory-size in application.yml, however it didn't work.
[2021-03-03 07:18:31] <bclozel> do you have a minimal, sample project that shows the issue?
[2021-03-03 08:27:59] <cangkuren> do you have a minimal, sample project that shows the issue?I have solve this problem when initialize the webtestclient. Thanks for your concern.
[2021-03-03 08:48:34] <cmoulliard> Hi. Is there a document describing what are the plans concerning the development of Spring Boot 3.x ?
[2021-03-03 09:11:44] <DoraRajappan> Error creating bean with name UsTwoBucketLookupInfoDeterminer': Injection of resource dependencies failed; nested exception is org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'typeSpecificBucketAssigner' must be of type [com.trgr.cobalt.dataroom.datasource.bucket.TypeSpecificBucketAssigner], but was actually of type [com.trgr.cobalt.infrastructure.datasource.bucket.lookup.TypeSpecificBucketAssigner]..  We got two jars with same class namesin different package..@Resourceannotation with classname ththrowing above exception
[2021-03-03 09:12:16] <DoraRajappan> How to resolve this?
[2021-03-03 09:28:37] <wilkinsona> Not yet, no.
[2021-03-03 09:29:42] <wilkinsona> There's a 3.x milestone on GitHub that has an initial handful of issues that we know we won't be tackling in 2.x: [<-LINK->] 
[2021-03-03 09:31:34] <wilkinsona> It's impossible to say without some more information about howUsTwoBucketLookupInfoDeterminerhas been defined and how its dependencies are getting injected.
[2021-03-03 09:32:25] <DoraRajappan> Component: public class UsTwoBucketLookupInfoDeterminer{@Resourceprivate UsTwoTypeSpecificBucketAssigner usTwoTypeSpecificBucketAssigner; [<-CODE->] 
[2021-03-03 09:34:40] <wilkinsona> Framework will use a field's name to help it to determine which dependency to inject. In this case your field's name istypeSpecificBucketAssignerand you have a bean with that name but it's the wrong type ofTypeSpecificBucketAssigner. Changing the name of the field would fix it I think.
[2021-03-03 09:36:24] <DoraRajappan> thanks will try that...!
[2021-03-03 09:41:44] <DoraRajappan> wow.. working like a charm!!!
[2021-03-03 09:52:14] <cmoulliard> Many thanks. I was also looking to the milestone github page ;-)
[2021-03-03 09:52:41] <cmoulliard> So 3.x will be an evolution of SB but not a big revolution ?
[2021-03-03 10:13:10] <wilkinsona> That's quite subjective. It'll be a new major so there will be breaking changes that some people will consider revolutionary and that others may see as a natural evolution of what we've already got.
[2021-03-03 11:36:23] <filiphr> I have a question regarding [<-ISSUE->] . Is using the Spring-Boot-Jar-Type supposed to work for WAR packaging generated through maven or not?
[2021-03-03 11:48:19] <wilkinsona> Ideally it would work, but it doesn't at the moment. In the jar case we can just decide not to add something toBOOT-INF/lib. In the war case, the war plugin's in control of what goes inWEB-INF/liband we'd then need to figure out what shouldn't be there and remove it. [<-ISSUE->] is tracking that fix.
[2021-03-03 11:49:56] <filiphr> Thanks Andy, that's what I noticed as well. Thanks for the issue link as well. Silly of me that I didn't find it :)
[2021-03-03 11:51:39] <wilkinsona> Not silly at all. It took me a while to find it and I knew roughly what I was looking for
[2021-03-03 11:55:59] <filiphr> I haven't looked into the code, but I saw that you recently also added Layer support for WAR files as well. Not sure if the solution is somehow in that area. Throwing ideas out :)
[2021-03-03 11:56:27] <wilkinsona> Unfortunately not. The layering stuff is just additional metadata in the jar file.
[2021-03-03 11:59:38] <filiphr> ah OK, didn't know that. Looking forward to the solution. In any case, good to know that it is tracked. We just updated all our starters to use the new manifest entry and I saw this. In any case no big deal for now, as it works like it did before
[2021-03-03 15:20:02] <cmoulliard> Yep.
[2021-03-03 19:36:49] <ajurge> Hi, we are currently migrating our Spring Boot based services to use Cloud Native Buildpacks. We use gradle task bootBuildImage to create CNBs. The issue we are facing is that for some internal URLs we need to add our internal certificates to the Java cacerts truststore. I could not find a way to add our certs using [<-LINK->] buildpack bindings via bootBuildImage task. Currently, my solution is to use Java KeyStore API to import our certificates into the JVM's cacerts on Spring Boot service startup.Is there a way to add custom trusted certificates via bindings of Paketo CA Certificates Buildpack using bootBuildImage task without the 'pack' cli?
[2021-03-03 19:48:10] <wilkinsona> It isn't possible with Spring Boot 2.4 but support's coming in 2.5: [<-ISSUE->] 
[2021-03-03 19:48:48] <wilkinsona> If you'd like to try out M3 when it's released (or a 2.5 snapshot if you're feeling brave) and double-check it meets you needs, that'd be really helpful.
[2021-03-03 19:50:08] <ajurge> Cool , thanks, i will test it, but we will wait until 2.5 is out and then use it in production ;) Btw is it already known when it will be released?
[2021-03-03 19:51:12] <wilkinsona> :) Yeah, I wouldn't use 2.5 in production right now either but if you have a chance to test it somewhere non-critical that'd be great. BTW, the updated docs are here: [<-LINK->] 
[2021-03-03 19:51:33] <wilkinsona> 2.5 will be released in May.
[2021-03-03 19:52:25] <wilkinsona> The schedule on GitHub is usually up-to-date: [<-LINK->] 
[2021-03-03 19:54:35] <ajurge> Ok, thanks, will have a look at it.
[2021-03-03 21:26:44] <vinny2020> anyone know how to set the path and threshold parameters for the Diskhealthindicator actuator? Should I just initilal the bean manually in my “Application” class ?
[2021-03-03 21:27:55] <vinny2020> I wish Gitter had a nicer chat  search
[2021-03-04 07:53:20] <ashref:matrix.org> HI , i want to duplicate entitis but in same time i want to know the original entity of  duplicated entities  , does Someone have any idea ? thx :)
[2021-03-04 09:49:02] <konstantinblaesi> do you generally offload anything that doesn't have to be on the servlet thread to a separate threadpool ? It sounds like a good idea to free up the servlet thread asap.
[2021-03-04 09:50:09] <salman-khandu> thank you for the help
[2021-03-04 09:53:05] <wilkinsona> There are application properties you can use for that: [<-LINK->] 
[2021-03-04 09:53:09] <konstantinblaesi> I don't really understand the problem, maybe provide a more concrete example. In any case you need to have a link between the duplicate and the original. That link can be a java reference or better some persistent unique identifier.
[2021-03-04 09:53:38] <wilkinsona>  [<-LINK->] 
[2021-03-04 10:29:06] <salman-khandu> Hi All can anyone help me resolve [<-LINK->] Basically based on the error response body I want to throw an error using Spring WebClient
[2021-03-04 11:37:19] <DoraRajappan> Is this the best way to handle absence of placeholder in properties file in spring 4.x?@Value("${TABLE_NAME:@null}")private String table;
[2021-03-04 11:38:23] <DoraRajappan> Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.lang.String com.trgr.cobalt.dataroom.batch.veridatasync.DataSyncServiceImpl.table; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'TABLE_NAME' in string value "${TABLE_NAME}"
[2021-03-04 11:43:26] <DoraRajappan> or@Value("${stuff.value:#{null}}")
[2021-03-04 11:58:51] <ashref:matrix.org> right , how do i know the original , in case to get all duplicated rows of that original row,EXAMPLE:  i want to duplicate a book 10 times , then how can i seperate between the original and the copy
[2021-03-04 11:59:31] <artjomka> Hello ! Just curious what would be the best strategy to return list of files from Spring boot rest endpoint - thinking of passing back from controllerResponseEntity<List<InputStreamResources>>maybe there is better way to do it ?
[2021-03-04 12:00:56] <wilkinsona> What do you want the client to receive?
[2021-03-04 12:05:56] <DoraRajappan> wilkinsona: any thoughts on@Valueto handle absence of placeholder in properties file
[2021-03-04 12:07:17] <DoraRajappan> in spring 3.x it used work@Value(${TABLE_NAME:null})
[2021-03-04 12:11:21] <DoraRajappan> because out of four environments only 2 environment (qed, prod)will have value for this place holder
[2021-03-04 12:12:21] <wilkinsona> As I've said before, Framework questions don't really belong here. Especially for 4.x as this channel is for Spring Boot and no supported version of Boot uses Framework 4.x. Stack Overflow's a better place to research and ask a question of your own if you can't find an existing question and answer.
[2021-03-04 12:13:28] <DoraRajappan> alright .. i got some answers in sow... thanks
[2021-03-04 15:10:14] <synkarius:matrix.org> Hi all. I have a question. When serving static files with Spring Boot Webflux and Spring Security, how can I send the appropriate mime types?I keep gettingwas blocked due to MIME type (“text/html”)for css files, and the same but "application/json" for javascript files.
[2021-03-04 15:10:32] <synkarius:matrix.org> Sorry, I should be more specific. That message shows up in the browser.
[2021-03-04 15:10:56] <synkarius:matrix.org> Happy to provide any other information needed to describe this.
[2021-03-04 16:47:24] <synkarius:matrix.org> I see this: [<-LINK->] But if I even add the@EnableWebFluxannotation, I start getting 404s on my index.html file in resources/static.
[2021-03-04 16:58:51] <wilkinsona> If you use@EnableWebFluxin a Spring Boot app you'll switch off the WebFlux auto-configuration and you'll have to set everything up yourself.
[2021-03-04 17:01:18] <synkarius:matrix.org> That's what I figured. Is there a way to send the appropriate mime types without turning off the auto config?
[2021-03-04 17:05:49] <wilkinsona> The mime type should be inferred automatically. Given that you mentioned Spring Security, I suspect that you're trying to access a CSS or JS file that you're not authorised the access. As a result, the response is an HTML error response or login page.
[2021-03-04 17:59:56] <synkarius:matrix.org> That's interesting. I bet you're right. I'll look into that, thanks.
[2021-03-04 18:57:20] <synkarius:matrix.org> wilkinsona: : That was it. You're the man! Thanks again.
[2021-03-05 10:07:28] <svrdoljak__twitter> Is there an elegant way to restart my spring boot application if the connection to rabbitmq is lost?REASON:rabbitmq stops and starts again
out app just throws exceptions, and does not try to reconnect to rabbitmq againDESIRED BEHAVIOR: 
when rabbitmq stops and our app lost the connection to rabbitmq, restart and try to reconnect again
restart as much time as it takes to establish the connection
[2021-03-05 10:17:28] <wilkinsona> Do you want to restart the whole app, or would you prefer your Rabbit ConnectionFactory to try to reconnect?
[2021-03-05 10:19:07] <svrdoljak__twitter> hmm..maybe try to reconnect once and if that does not work..restart the whole app...and keep restarting until the connection is established
[2021-03-05 10:25:15] <wilkinsona> Restarting the whole app would need to be done by some sort of orchestration tool. That tool could use the actuator's/healthendpoint to detect that it's unhealthy and then restart it.
[2021-03-05 10:29:39] <wilkinsona> For a more focussed retry, Spring AMQP has some built-in recovery support although I don't know too much about it. I believe you can configure aRetryTemplateon yourRabbitTemplate.
[2021-03-05 10:30:19] <wilkinsona>  [<-LINK->] would be a good place to discuss this with people more knowledgable than me.
[2021-03-05 10:31:38] <svrdoljak__twitter> Thanks for the input! Will try :)
[2021-03-05 15:48:14] <vinny2020> Thank you!
[2021-03-05 20:25:33] <calhong> Hi everybody, I've been running into an issue that I'm not sure how to solve. I'm trying to consume an endpoint that is sending a multipart/mixed in the body, but every time when I try to consume it, I'm receiving: "Failed to parse multipart servlet request; nested exception is java.io.IOException: org.apache.tomcat.util.http.fileupload.FileUploadException: Stream ended unexpectedly". I found that even when I try to send it on postman with the multipart header and boundary and the text in the body that I still receive this issue, does anyone have any insight to what to try?
[2021-03-06 19:48:34] <ab48917> hello guys- I am getting an issue from spring batch where I am unable to start the batch from and its stating the below exception -Caused by: java.lang.NullPointerException: null    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:111) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]    at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:136) ~[spring-batch-core-4.2.1.RELEASE.jar!/:4.2.1.RELEASE]    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_252]I tried checking the SimpleJobRepository at 136 line number and Its saying that        throw new JobInstanceAlreadyCompleteException(                            "A job instance already exists and is complete for parameters=" + jobParameters [<-CODE->] But I couldn't see that exception also Its breaking while getting the JobExecution object in JdbcExecutionContextDao at line no 111.Not sure why /where its swallowing the original exception and how to trace it? Please assist if anyone has got such an issue?
[2021-03-06 20:17:51] <wilkinsona> I don't think you were looking at the right version of the source. Line 136 in 4.2.1 is a call togetExecutionContext: [<-LINK->] 
[2021-03-06 20:22:08] <wilkinsona> Line 111 of JdbcJobExecutionDao is this: [<-CODE->]  [<-CODE->] 
[2021-03-07 21:57:48] <willladislaw> What will be the best approach to implement Apple Sign-in [<-LINK->] Part (scroll down to  sub-section "Server") of the config, inside a Spring Boot App?
[2021-03-08 09:25:49] <wilkinsona> Those docs are really light on the details. Looks like it could be reverse-engineered from the JS-based example on Glitch, but I'd hope that there's some more detailed documentation available.
[2021-03-08 09:31:10] <wilkinsona> There's some discussion in various Spring Security issues. See [<-LINK->] , for example.
[2021-03-08 10:41:25] <rishisc> Hi,We have recently migrated our spring mvc project into spring boot. We are using Apache tiles 3 with JSTL using UrlViewResolver for JSPs and packaged into war. Everything works fine on local embedded tomcat using war and using IDE. Problem comes when we deploy the same war on a container or on a vm instance using java -jar xxx.war it takes long time to load a jsp page.Any sample project url would be helpful.Thanks in advance.
[2021-03-08 11:53:26] <wilkinsona> How are you running the app "on local embedded tomcat using war"?
[2021-03-08 12:01:31] <rishisc> Using mvn springboot:run. Thanks for quick reply Andy
[2021-03-08 14:11:43] <svrdoljak__twitter> Hi! How can i check that my WebStompClient is connected to my rabbit-mq deployment?REASON:-> if he is not connected, I want to reconnect/restart the app-> the reconnection does not work for some unknown reason
[2021-03-08 17:08:08] <Krannthi> Could we disable session management in a springboot embedded tomcat server, disabling the http response to send back a JSESSIONID cookie
[2021-03-08 18:02:31] <wilkinsona> mvn spring-boot:rundoesn't run your application built as a war file so it's not quite an apples-to-apples comparison.
[2021-03-08 18:04:18] <wilkinsona> Have you tried running it in a container having unzipped the war file? You can do that by runningjava -cp . org.springframework.boot.loader.WarLauncherfrom the root of the unzipped war .
[2021-03-08 18:12:14] <wilkinsona> There's no property to do it, but you can configure it with a little bit of code:
[2021-03-08 18:12:33] <wilkinsona>  [<-CODE->] 
[2021-03-08 18:12:58] <wilkinsona> Settings the tracking modes to an empty set disables the cookie (and all other ways of tracking the session)
[2021-03-08 18:44:32] <Krannthi> great thanks, if we dont specify this, will the session be created by default on every http call
[2021-03-08 19:20:06] <wilkinsona> No. A session's only created when something callsjavax.servlet.http.HttpServletRequest.getSession()orjavax.servlet.http.HttpServletRequest.getSession(true)
[2021-03-08 19:41:26] <Krannthi> thanks for clarufying that
[2021-03-08 21:23:31] <sergiopanico> Hi guys, could you please give me a tip to run a springboot application that need an external classpath folder from VSCode?I've to achieve something like this/opt/jdk1.8.0_202/bin/java -cp ./CR_SPRINGBOOT-MSERVICE-2.0.0-SNAPSHOT.jar:/opt/springboot/resources:/opt/springboot/resources/stores -Dspring.profiles.active=dev -Djava.security.egd=file:/dev/../dev/urandom -Dloader.main=it.mycomp.myapi.SpringbootApi org.springframework.boot.loader.PropertiesLauncherso i've configured lauch.json like this (and many other similar variant) but no success!{"type": "java","name": "Spring Boot-PropertiesLauncher<CR_SPRINGBOOT-MSERVICE>","request": "launch","cwd": "${workspaceFolder}","console": "internalConsole","mainClass": "it.mycomp.myapi.SpringbootApi org.springframework.boot.loader.PropertiesLauncher","projectName": "CR_SPRINGBOOT-MSERVICE","args": "--spring.profiles.active=dev","vmArgs": "-Dloader.path=${workspaceFolder},${workspaceFolder}\..\..\somefolder\resources"},where i'm wrong?I've googled for that and tried a lot of other setup but still no success :'(
[2021-03-09 06:21:00] <surendrarathore> "hits" : [{"_index" : "demo_2021","_type" : "_doc","_id" : "BB001589492","_version" : 5,"_score" : 14.923065,"_source" : {"student_category" : [{"category_name" : "JUNIOR"}],"student_id" : "BB001589492"}}]I want to convert`@Getter@Setterpublic class TestModel {private String student_id;private String category_name;}`how to convert using elastic search spring data target entity. point is how to convert list or map to String .
[2021-03-09 06:53:57] <rishisc> It is running fine with unzipped war what will be the specific reason with packaged war? Do we use external tomcat to deploy the war?
[2021-03-09 11:42:15] <wilkinsona> Tomcat's a little bit slow when it comes to reading resources from a zipped archive. There's no need to use an external Tomcat to deploy the war. Unzipped and using theWarLauncheris sufficient.
[2021-03-09 11:43:46] <wilkinsona> If you're interested, there are some more details in [<-ISSUE->] 
[2021-03-09 12:41:46] <rishisc> Thank you
[2021-03-09 17:45:43] <springroll12> Can anyone clarify the behavior of CorsConfiguration.addAllowedOrigins() combined with CorsConfiguration.addAllowedOriginPatterns()? I understand the second option will take over if allowedOrigin is set to "*", but what happens when this is not the case? Are the two settings combined?
[2021-03-10 05:47:18] <alankstewart> Will spring-boot-starter-test update its dependency on jakarta.xml.bind-api from 2.3.3 to 3.0.0 in near future?
[2021-03-10 11:21:53] <wilkinsona> No, it won't. 3.0 repackages the API fromjavax.*tojakarta.*so it's a big breaking change. We need to switch to thejakarta.*version of every Jakarta EE dependency that we have and the ecosystem's not yet ready for that. It'll happen in Spring Boot 3 and Spring Framework 6.
[2021-03-10 18:36:39] <stephenpatten> Running SB 2.4.2 and just noticed that the health-check has a few JVM options showing (unfortunatly DOWN) . Is there documentaion on these new items? , jvmGcLoad, jvmPoolMemory, jvmTotalMemory,  jvmGcOverhead, jvmMemoryConsumption
[2021-03-10 18:40:37] <stephenpatten> I'd like to be able to articulate to our DevOPs team that certain JVM settings need to  be coordinated  with the expectaion of these new metrics.. There are quite a few time that we pass -Xms14336m -Xmx14336m to the JVM and I believe this blows up the health-check
[2021-03-10 19:02:58] <stephenpatten> Self inflicted wound ... dang it!  I forgot I added some random code from wher, I don't know ServiceLevelObjectiveConfiguration , that is the cause of the issues being observed
[2021-03-10 19:11:29] <stephenpatten> I think this code came from micro meter and if my memory serves me correctly this code, or a version versimilar to it will be  backed into Spring Boot.. PAY ATTENTION when you enable it
[2021-03-10 20:51:45] <alankstewart> Thanks. As a workaround, I've provided javax.xml.bind:jaxb-api:2.3.1 as a runtime dependency which satisfies Hibernate (under spring-boot-starter-jpa) and used jaxb 3.0.0 artifacts for my own code. Works fine and no dependency clashes
[2021-03-11 02:08:08] <sadhasivam> i am using Spring (latestVersion) WebFlux client. i could get the String response correctly. i am not able to serialize JSON response to a class. any help would be appreciated. here is the WebFlux Client Code.
[2021-03-11 02:11:08] <sadhasivam>  [<-CODE->] 
[2021-03-11 02:11:26] <sadhasivam> exception
[2021-03-11 02:11:35] <sadhasivam> Content type 'application/octet-stream' not supported for bodyType=Baz::class.java
[2021-03-11 07:55:10] <bclozel> Does this mean that the remote server is wrongly serving a JSON payload with the "octet-stream" media type?
[2021-03-11 09:16:22] <jnizet> Hi. I'd like to use a ConfigurationProperties-annotated class to hold the cron expression (and various other properties) of a scheduled job. But I haven't found a way to refer to the properties object in the SpEL expression passed to@Scheduled.@Scheduled(cron= "#{someJobProperties.cron}")doesn't work. The only way I found was to expose thesomeJobPropertiesobject as a property of a bean, and to reference that bean in the SpEL expression:@Scheduled(cron= "#{someJobConfiguration.properties.cron}"). Is it the only way? Ideally, I would inject thesomeJobPropertiesobject in the bean that has the@Schedulingannotated method, and use that injected object in the SpEL expression, but I haven't figured out how to do that (if it's even possible)
[2021-03-11 12:19:47] <wilkinsona> Depending on how your@ConfigurationPropertiesbean is being defined, it's likely that its name won't besomeJobProperties.
[2021-03-11 12:21:56] <wilkinsona> From https://docs.spring.io/spring-boot/docs/2.4.2/reference/htmlsingle/#boot-features-external-config-enabling: [<-CODE->] 
[2021-03-11 12:22:06] <wilkinsona> Does that help at all?
[2021-03-11 12:33:47] <jnizet> Thanks@wilkinsona. It helps because i now understand why it didn't work.But at the same time, it doesn't because I have no idea how to reference such a long name containing a dash and  dots in a SpE...But even if I did, I'd prefer my workaround of exposing these properties from another bean anyway.
[2021-03-11 12:42:25] <wilkinsona> I think I would too. The default name of a configuration properties bean is rather unwieldy (out of necessity to avoid clashes while being predictable) to use in a SpEL expression
[2021-03-11 12:52:20] <jnizet> I understand, and am glad we agree. Do you confirm that there is no way to do something like#{thisBean.properties.cron}?
[2021-03-11 12:52:54] <jnizet> (thisBean not being the name of a bean, but...  this bean)
[2021-03-11 13:09:52] <wilkinsona> Yeah, I think that's the case.ScheduledAnnotationBeanPostProcessorjust passes in a string for evaluation. There's no context passed in regarding where the string came from so no way to determine whatthisBeanshould be.
[2021-03-11 13:19:15] <jnizet> Thanks again.
[2021-03-11 13:50:31] <Bryksin> HiQuick one, how could I intercept global exceptions in spring boot?I mean exceptions that could happen inside some internal bean that is not related to any of the controllers ?is there some global spring boot exception handler advice or anything?
[2021-03-11 13:54:32] <mickeelm> If I have an application where we useRestTemplatewhich is more or less deprecated, but we don't want to make that code reactive and at the same time don't lose any Spring magic – is usingWebClientwithblock()the way going forward?
[2021-03-11 13:59:40] <bclozel>  [<-CODE->]  [<-CODE->]  [<-CODE->] 
[2021-03-11 14:01:34] <bclozel> if the exception bubbles up to the controller, then you can use the exception handling mechanism there. Usually, wrapping internal exceptions with your own "business exceptions" really helps here to keep things testable and clean.
[2021-03-11 14:05:40] <Bryksin> bclozel: as I mentioned exception which I need to intercept happens inside the bean (internal bean of Spring Cloud Config Server) and it has nothing to do with controller, so controlled advice or@ExceptionHandlerannotation will not help as it is not related to the controller, nor related to the bean defined by us, it is internal spring cloud config server stuff
[2021-03-11 14:14:40] <bclozel> That's a different story indeed. I'm not aware of a specific error handling mechanism for that. Maybe the #spring-cloud channel will know.
[2021-03-11 14:18:22] <Bryksin> ye but it is still based on global Spring Boot, so I need to just intercept global exceptions and probably filter by type to find the one I need
[2021-03-11 14:52:39] <mickeelm> Thank you very much for that explanation. Clear and consise!
[2021-03-11 15:23:30] <sadhasivam> Let me check;  good point.
[2021-03-12 01:11:34] <Veera93> Hi folks... I am using Spring retry for one of my usecase.. And I am facing some issues..Please is my service [<-CODE->] I invoke this service from another class, I am expecting exceptions other than TimeoutException to be propagated as in but its getting wrapped insude ExhaustedRetryException.. Thanks in advance [<-CODE->] 
[2021-03-12 04:24:04] <salman-khandu> Can anyone please help me to sort out this issue [<-LINK->] 
[2021-03-12 07:03:35] <jnizet>  [<-LINK->] 
[2021-03-12 07:07:45] <ahoehma> Hi all, what is the current best practise to have a kind of "EncryptablePropertyPlaceholderConfigurer" or something in springboot-apps. I would like to use/write a "property-resolver" which can handle prop-place holder like ${aws-secret-manager#/secrete/foo#property-name}  (the exact syntax is not clear yet) which get the requested prop from aws secret manager transparently. Any ideas?
[2021-03-12 08:40:26] <salman-khandu> Yes it's working I have used thenReturn(...) thank you for the help
[2021-03-12 12:45:20] <sven.nv_gitlab> Hi,i try to save certificates and keys in a spring cloud config server file, and of course i would like to encrypt them.spring CLI encrypt chokes on the "-----BEGIN..." part, as it tries to read that as an option. any way to escape that?I tried to pack it in quotes, but then i have the string with the quotes after the client decrypted the property
[2021-03-12 12:47:49] <sven.nv_gitlab> also, slightly related, can i use the spring encrypt for multiline strings. as a workaround i pipe them  through sed to get literal "\n" symbols in a long single-line string
[2021-03-12 13:00:18] <sven.nv_gitlab> oh, got it "--" to mark the end of options  :D
[2021-03-12 13:28:43] <sven.nv_gitlab> i'm not sure i understand your question right@ahoehma, but the spring cloud config server supports managing encrypted properties, and it also has AWS support: [<-LINK->] 
[2021-03-12 13:36:13] <ahoehma> spring config server is not an option in my current project (not yet) :(
[2021-03-12 13:41:03] <ahoehma> i would like to have support for properties in my "pure" springboot app which is runnning in aws beanstalk. Our team decide to have our "mssql-connection-information" in a aws security manager blob.
[2021-03-12 15:17:31] <NicklasWallgren> Have a look at thestatefulproperty, on the@Retryableannotation
[2021-03-12 18:25:43] <sadhasivam> Thanks@bclozelworked out. appreciate your thoughts
[2021-03-13 00:53:45] <merusso> Have you seen [<-LINK->] ? Could you do something similar?
[2021-03-13 02:24:16] <jonatan-ivanov> ahoehma: It works out of the box with spring-cloud-aws
[2021-03-13 02:26:02] <jonatan-ivanov> see: [<-LINK->] 
[2021-03-13 02:26:47] <jonatan-ivanov> If you want something custom (please don’t unless it is your last resort), you can create aPropertySourceLocator: [<-LINK->] 
[2021-03-13 09:02:18] <ahoehma> thanks for the hint :D
[2021-03-13 09:07:53] <ahoehma> i looked into the aws.secretsmanager.* ... but I'm not sure if this works for me ... because the cloud-guys in my team decide to put "only" the jdbc-connection infos into a aws secret manager. maybe I dont understand the feature correctly but I understand that this springboot feature can only fetch one secret per app from aws but not many. So I was thinking about a feature in the middle :D I would like to use property-values like this my.rds.login="${/prefix/context#propertyname-from-secret}". springboot should delegate all property-placeholders starting with the "pattern" /prefix/context# to my property-placeholder-resolver and there I would like to reuse existing springboot aws secret manager functionality.
[2021-03-13 09:24:01] <ahoehma> may I can define multiple AwsSecretsManagerPropertySourceLocator beans by myself?
[2021-03-13 09:27:33] <ahoehma> or I can implement my own AwsSecretsManagerPropertySourceLocator  + own AwsSecretsManagerPropertySource which can handle my "special" needs (i.e. "prefix" all the secret-properties to have "unique" properties in my application in case I define multiple AwsSecretsManagerPropertySourceLocator's
[2021-03-13 09:27:52] <ahoehma> I think u point my in the right direction! :D
[2021-03-13 17:56:43] <biergit> Hi guys I stumbled across [<-LINK->] and [<-LINK->] .What do you think about it? Are those advices really good? Should I really manually@Importall the auto-configuration I need? Does it even work as some auto-configuration need to be processed in a certain order and as far as I know@Importdoes not guarantee any ordering?
[2021-03-14 06:01:30] <Fly-Away> hi guys, i am learning microservice with spring boot, and i am creating a api gateway and i need authentication server, but when i start reading somewhere in spring boot version 2.4.x, i found Spring Security Oauth2 is deprecated, so there is no@EnableAuthenticationServer, how do i create authentication server in spring boot then? i need it to create JWT token and store it to the database, so another service can just read the token from the database
[2021-03-14 09:11:19] <snicoll> Wow, thanks for bringing this to our attention. RSPEC-4604 is wrong, you shouldn’t import auto-configurations.
[2021-03-14 09:17:11] <snicoll> I’ve reached out to them to fix this rule. Not sure what will remain of it, really.
[2021-03-14 12:19:11] <biergit> Thank you for clarifying this :)
[2021-03-15 09:11:56] <wilkinsona> The authorisation server's a separate project now: [<-LINK->] 
[2021-03-15 12:13:02] <sdmgrt> Hi, I am working on a web app that uses spring mvc. I would like to embed spring cloud config server in the app rather than running it standalone. I notice though that in the Javadoc for RestTemplate it says to consider using WebClient  (which is part of webflux) instead going forward. According to this  answer [<-LINK->] , however, it is not possible to use the embedded config server with webflux. Does that mean I have to chose between using WebClient and the embedded config server?
[2021-03-15 12:22:05] <bclozel> FTR, the note says:NOTE: As of 5.0 this class is in maintenance mode, with only minor requests for changes and bugs to be accepted going forward. Please, consider using the org.springframework.web.reactive.client.WebClient which has a more modern API and supports sync, async, and streaming scenarios. [<-CODE->] 
[2021-03-15 12:33:08] <sdmgrt> Ok great. I saw that but I wasn't 100% sure if that meant that the RestTemplate would be removed eventually. Anyway now I know. Thanks for confirming and for the quick reply!
[2021-03-15 14:31:24] <Krannthi> Hi, I am working on a springBoot app and using HttpServletResponse to set status on throwing a error, but when the error view is returned, the status is always 500 irrespective of what I set on the HttpServletResponse  object , Is there something wrong with this approach
[2021-03-15 14:49:50] <twreid> I have a question about the actuator and micrometer. Specifically when pulling in the implementation libraries egio.micrometer:micrometer-registry-statsd:latest.releaseI always see them pulled in like that instead of pinning a specific version. Is that safe to do or should I pin the version instead?
[2021-03-15 14:52:10] <wilkinsona> If you're using Spring Boot, I wouldn't specify a version at all. Boot's dependency management covers Micrometer so I'd recommend letting it control the version.
[2021-03-15 14:54:33] <twreid> Ok thank you
[2021-03-15 14:57:14] <twreid> is it safe to use the springboot dependency bom withspring-cloud-dependencies
[2021-03-15 15:09:56] <wilkinsona> Yes it is. If you create a project using start.spring.io, it'll configure both when you select a Cloud dependency.
[2021-03-15 15:13:20] <twreid> Awesome thank you very much.
[2021-03-15 16:48:21] <Krannthi> Hi, I am working on a springBoot app and using HttpServletResponse to set status on throwing a error, but when the error view is returned, the status is always 500 irrespective of what I set on the HttpServletResponse  object , Is there something wrong with this approach. Should we also use ResponseEntity when returning ModelAndView object from the ControllerAdvice where the exception is handled, I also tried setting the status to ModelAndView object but even that didn't work
[2021-03-15 21:30:33] <Fryie>  [<-CODE->]  [<-CODE->] where the properties are defined as [<-CODE->]  [<-CODE->] 
[2021-03-15 21:46:45] <Fryie> sorry, apparently it works - for some reason my nested test class was not inheriting the@SpringBootTestannotation - I can fix it by adding it explicitly
[2021-03-16 09:07:33] <jesty> Morning everyone! I'm trying to migrate a spring boot application to Spring Native. The app is very simple, read events from ActiveMQ using Camel, perform some transformation and create documents on Elasticsearch. When I start the application I'm getting this error: [<-CODE->] I tried to configure the right NativeHint without any success, can someone help me? Thanks! I hope that this is the right place for this answer :)
[2021-03-16 09:36:16] <vrnsky> Hi,@everyone!I just faced with next problemjava.lang.IllegalStateException: Cannot load driver class: com.microsoft.sqlserver.jdbc.SQLServerDriverI have driver in classpath, my app works correctly on local machine, but on the server I got that error. What I can do or what is possible reason for this error?
[2021-03-16 09:51:05] <xiao-ma-nong> 大家好
[2021-03-16 11:51:51] <jesty>  [<-CODE->]  [<-CODE->] 
[2021-03-16 12:57:09] <xiao-ma-nong> 请讲中文，谢谢
[2021-03-16 14:43:03] <Fryie>  [<-CODE->] 1) If I have code like: [<-CODE->]  [<-CODE->]  [<-CODE->]  [<-CODE->] will the transaction context be bound to the coroutine context? Some github issues seem to indicate that this would be the case...
[2021-03-16 15:54:04] <svrdoljak__twitter> Does anyone know how to get the pod name in my openshift cluster for ElasticMeterRegistry?
[2021-03-16 15:55:56] <svrdoljak__twitter> Or why doesn't the ElasticMeterRegistry send the cloud instance name with his metrics to ElasticSearch. It's used for monitoring and kinda lame if I cant give alerts with the pod name
[2021-03-16 19:20:59] <Asher2016> hello , why this dosn't work please [<-CODE->] Error :reason: no instance(s) of type variable(s) T exist so that void conforms to T
[2021-03-16 19:33:07] <jnizet> The return type ofdeleteById()is void. And you're trying to make it return 200.
[2021-03-16 19:34:08] <Asher2016> make sense , so how can I test it ?
[2021-03-16 19:35:44] <jnizet> Delete this line of code. If you call a void method on a mock, the method will just do nothing. You don't need to tell it to return something, since it can't return anything anyway.
[2021-03-16 19:46:45] <Asher2016> can I use Answer instead ?
[2021-03-16 19:50:17] <jnizet> What are you trying to do? Why do you think you should make the method return or answer something?
[2021-03-16 19:55:15] <Asher2016> well actually I'am trying to do Test with Mockito on my serviceImpl which testing CRUD methods , so after testing adding , i want to test delete methode based on my ServiceImpl , any suggestion ?
[2021-03-16 20:01:54] <jnizet>  [<-CODE->]  [<-CODE->] https://javadoc.io/static/org.mockito/mockito-core/3.8.0/org/mockito/Mockito.html#1
[2021-03-16 20:07:31] <Asher2016> yes as you understand , and thank you it works , other question plz , for repository which better deletById() or find the entity first , entity = repo.getOne(id) then repo.delete(entity)
[2021-03-16 20:15:58] <jnizet> You should generally not use getOne(). If you just have the ID of an entity and want to delete it, that's what deleteById is for. I see no good reason to make it more difficult than it can be.
[2021-03-16 20:17:16] <Asher2016> yes you are right , Thank you very much for your help and advice
[2021-03-16 22:52:11] <rajcspsg> Hi I'm trying to convert spring-boot application to spring-core app
[2021-03-16 22:53:05] <rajcspsg>  [<-CODE->] 
[2021-03-16 22:53:33] <rajcspsg> My converted code to spring is
[2021-03-16 22:54:20] <rajcspsg>  [<-CODE->] 
[2021-03-16 22:54:37] <rajcspsg> When I run my code I'm getting error
[2021-03-16 22:55:14] <rajcspsg> java.lang.NullPointerException   at ch.qos.logback.core.CoreConstants.<clinit>(CoreConstants.java:47)   at ch.qos.logback.classic.layout.TTLLLayout.doLayout(TTLLLayout.java:52)   at ch.qos.logback.classic.layout.TTLLLayout.doLayout(TTLLLayout.java:23)   at ch.qos.logback.core.encoder.LayoutWrappingEncoder.encode(LayoutWrappingEncoder.java:115)   at ch.qos.logback.core.OutputStreamAppender.subAppend(OutputStreamAppender.java:230)   at ch.qos.logback.core.OutputStreamAppender.append(OutputStreamAppender.java:102)   at ch.qos.logback.core.UnsynchronizedAppenderBase.doAppend(UnsynchronizedAppenderBase.java:84)   at ch.qos.logback.core.spi.AppenderAttachableImpl.appendLoopOnAppenders(AppenderAttachableImpl.java:51)   at ch.qos.logback.classic.Logger.appendLoopOnAppenders(Logger.java:270)   at ch.qos.logback.classic.Logger.callAppenders(Logger.java:257)   at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:421)   at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)   at ch.qos.logback.classic.Logger.log(Logger.java:765)   at org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog.debug(LogAdapter.java:468)   at org.springframework.context.support.AbstractApplicationContext.prepareRefresh(AbstractApplicationContext.java:628)   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)   at org.springframework.context.annotation.AnnotationConfigApplicationContext.<init>(AnnotationConfigApplicationContext.java:93)   at com.aerospike.demo.simplespringbootaerospikedemo.TestSpringConfig.main(TestSpringConfig.java:26)
[2021-03-16 22:55:29] <rajcspsg> The code is on github here
[2021-03-16 22:55:30] <rajcspsg>  [<-LINK->] 
[2021-03-16 22:56:06] <rajcspsg> I've asked this question in Stackoverflow as well [<-LINK->] 
[2021-03-16 22:56:24] <rajcspsg> Any idea why I'm getting this error?
[2021-03-17 01:03:05] <xiao-ma-nong> 还没有遇到过
[2021-03-17 04:04:26] <sadhasivam> Hi friends i am looking for some example on how to do retry using “WebClient”, Kotlin, Suspend, Await combination. i understand how to do this with normal mode. thoughts.  here is my current implementation.suspend fun te(request: tr): TResponse {
        return webClient.post().uri("/api/te").bodyValue(request).retrieve().awaitBody()
    }
[2021-03-17 10:32:57] <zjjt> Hi there people, ive added the spring security starter dependency to my webflux project and while trying to run it the tests fail with the following message: "Consider defining a bean of type 'org.springframework.security.config.web.server.ServerHttpSecurity' in your configuration"  but i previously added the following in my test class :"@WebFluxTest(excludeAutoConfiguration = {ReactiveSecurityAutoConfiguration.class})" to disable Spring security in the tests unfortunately it doesnt seem to be working please can you help me
[2021-03-17 10:40:19] <zjjt> here is the full alert :"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/resource/reactive/ReactiveOAuth2ResourceServerJwkConfiguration$WebSecurityConfiguration.class]: Unsatisfied dependency expressed through method 'springSecurityFilterChain' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.config.web.server.ServerHttpSecurity' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}"
[2021-03-17 10:43:09] <zjjt> dang it i just did this now and it started working: "@ContextConfiguration(classes = { ProductRouter.class, ProductHandler.class, TransformerRouter.class,TransformerHandler.class,ServerHttpSecurity.class })"
[2021-03-17 10:43:10] <zjjt> thanks
[2021-03-17 14:50:33] <xiao-ma-nong> 太高级了
[2021-03-18 03:15:06] <nalani5210> 进来学习
[2021-03-18 11:20:18] <xiao-ma-nong> 学习
[2021-03-18 13:58:19] <afnanshirol> Hello TeamI am trying to implement caching for method which returns listenableFuture and completableFuture object.For Example:@Cacheable("someName")public CompletableFuture<SomeObject> getSomeObject(String id){ [<-CODE->] }But before starting implementation, i came across this stack overflow link which says ListenableFuture & CompletableFuture are not supported.stack overflow link: https://stackoverflow.com/questions/47160563/spring-cacheable-and-async-annotationSpring issue link :  spring-projects/spring-framework#17559Currently, i am using spring boot 2.1.2-RELEASE . Is this still not supported?Thanks,Afnan
[2021-03-18 15:31:07] <xiao-ma-nong> 没遇过
[2021-03-18 15:50:09] <AndersClausen> Hi@scottfrederick. With regards to the conversation we had here   [<-LINK->] I've finally had a chance to play with it but stumbling on thebindingspart that you're referring to. When I look at the  documentation you gave the link to, it seems that it's more related to volumes than what Datadog wants me to configure. If you look at this link [<-LINK->] they are referring tobindingsunder the Behaviour section, which is a Paketo binding and not quite the same you're talking about (if I understand you correctly?). Should I be using theenvtag for the binding he's referring to?Cheers
[2021-03-18 16:18:39] <scottfrederick> That’s exactly what you’d use the bindings feature for.
[2021-03-18 16:19:09] <scottfrederick> For example in the root of your project’s directly, where you will run the Maven or Gradle build from, you might do
[2021-03-18 16:19:34] <scottfrederick> mkdir binding
echo 'DatadogTrace' > binding/type
[2021-03-18 16:20:32] <scottfrederick> thenecho <agent config properties> > binding/datadog.properties
[2021-03-18 16:21:44] <scottfrederick> then you’d provide thatbindingdirectory to the buildpack as in one of these examples from the Maven and Gradle plugin tests
[2021-03-18 16:22:07] <scottfrederick>  [<-LINK->] 
[2021-03-18 16:22:15] <scottfrederick>  [<-LINK->] 
[2021-03-18 16:24:53] <scottfrederick> when you map that binding into/platform/bindings/datadogin the target container, buildpacks detect it and do their thing.
[2021-03-18 21:09:13] <yrashish> I am trying to use Java 16 with Spring Boot 2.5.M1. However, running into the following issue while using records and running the application.
[2021-03-18 21:09:53] <yrashish> 2021-03-19 02:01:55.434 ERROR 66059 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.example.indianstates.State]: No default constructor found; nested exception is java.lang.NoSuchMethodException: com.example.indianstates.State.<init>()] with root cause
[2021-03-18 21:10:28] <yrashish> @Overridepublic List<State> findAll() {String findAllStates = """select * from States""";return jdbcTemplate.query(findAllStates, new BeanPropertyRowMapper<>(State.class));}
[2021-03-18 21:10:48] <yrashish> public record State(String name, String capital) {}
[2021-03-18 21:11:40] <yrashish> I am able to get it working with following
[2021-03-18 21:11:50] <yrashish> private final RowMapper<State>  rowMapper = (rs, rowNum) -> new State(rs.getString("name"),rs.getString("capital"));
[2021-03-18 21:12:13] <yrashish> but not with BeanPropertyRowMapper as it expects a default or no-arg constructor
[2021-03-18 21:19:30] <yrashish> Passing the no-arg constructor resulted in the following compilation error
[2021-03-18 21:19:31] <yrashish> public State() {}
[2021-03-18 21:19:52] <yrashish> Non-canonical record constructor must delegate to another constructor
[2021-03-19 03:13:14] <xiao-ma-nong> 你们都不用睡觉的吗。起这么早
[2021-03-19 05:14:43] <feidao158> 时差 兄弟..
[2021-03-19 06:48:19] <yrashish> Passing the no-arg constructor resulted in the following compilation errorAnyone?
[2021-03-19 07:04:44] <jnizet> BeanPropertyRowMapper can't be used with records, since it consists in creating an instance of a Java Bean with its no-arg constructor, and then calling its setters to populate the bean. But records don't have a no-arg constructors, and are immutable and thus don't have setters. So, either use a traditional Java Bean, or use records, but then don't use BeanPropertyRowMapper.
[2021-03-19 08:48:40] <yrashish> Thanks
[2021-03-19 08:52:51] <lpandzic> Hello, is there a document somewhere which outlines when Spring (with focus on Spring Framework and Boot) as a whole plans to abandon Java 8 support? I'm mainly asking from a perspective of OS maintainer that relies on Spring in some of his projects so I can plan ahead.
[2021-03-19 08:55:15] <aucampia> I would like to get an overview of what components spring has loaded and how they are configured
[2021-03-19 08:55:23] <aucampia> is there some kind of UI for spring to show this?
[2021-03-19 08:55:27] <aucampia> or do I have to use actuator?
[2021-03-19 08:57:40] <aucampia> I will try spring boot admin
[2021-03-19 09:06:44] <bclozel> We don't have a firm date yet, but we'll provide LTS for Spring Framework 5.3.x and Spring Boot 2.x to give enough time to the community so they can upgrade to Spring Framework 6 + Spring Boot 3.
[2021-03-19 09:07:18] <bclozel> Official information will be displayed here: [<-LINK->] and [<-LINK->] 
[2021-03-19 09:08:35] <bclozel> We will require a baseline upgrade for the JDK in the next major versions, we're not decided yet on the actual requirement.
[2021-03-19 09:09:45] <bclozel> what's your timeline exactly? How long are you planning ahead?
[2021-03-19 09:18:38] <lpandzic> tbh, I'm downgrading most of my projects to Java 8 because of Springs support so that's my main motivation, when will I be able to stop doing this :)
[2021-03-19 09:19:00] <lpandzic> thanks for info
[2021-03-19 09:19:34] <lpandzic> Spring 6 won't support Java 8? Minimum version will be 11?
[2021-03-19 09:24:25] <wilkinsona> It's not guaranteed, but it's highly likely that Spring Framework 6 and Spring Boot 3 will drop Java 8. The minimum would then be 11 or maybe even 17.
[2021-03-19 10:40:31] <lpandzic> ok, thanks
[2021-03-19 11:02:15] <PaoloCifariello>  [<-CODE->]  [<-CODE->]  [<-CODE->] Thank you!
[2021-03-19 12:14:03] <bclozel> tbh, I'm downgrading most of my projects to Java 8 because of Springs support so that's my main motivation, when will I be able to stop doing this :)What do you mean? I hope you're not downgrading because of Spring, we're marking sure that we're compatible with newer versions as soon as they're out. JDK8 is the baseline, not a "must have"
[2021-03-19 12:14:40] <bclozel>  [<-LINK->] defaults to JDK11, because this is the current LTS.
[2021-03-19 12:25:41] <mickeelm> Also curious what you mean. Just because Spring supports JDK8 doesn't mean you have to :D
[2021-03-19 13:05:53] <lpandzic> I'm striving to support as many users as possible in libs I release, and I'd like to avoid lower than Java 8 and Spring has helped me in that regard
[2021-03-19 13:07:16] <lpandzic> I've hit more and more situations where I or maintainer would be more productive if we could use higher level of Java and that's why I'm asking (Spring is sort of pushing the bottom limit since my libraries usually depend on Spring directly in code). I don't want to sacrifice adoption likeliness of a library simply because I prefer latest Java
[2021-03-19 13:18:09] <HaloFour> I haven't had too many issues with Spring WebFlux and Java 13/14/15.  The issues are usually around tooling and IDE support for the first few weeks after a JDK is released.  Keeping close tabs on when I can pull the trigger with Java 16.  :)
[2021-03-19 13:20:07] <schosin> I'm trying to implement using a ReadReplica-DataSource with a AbstractRoutingDataSource and TransactionSynchronizationManager#isCurrentTransactionReadOnly.But looking at AbstractPlatformTransactionManager, the threadlocal is always set after the call to determineCurrentLookupKey, so I always get false. What am I doing wrong or are the guides I found just outdated (e.g. from Vlad)
[2021-03-19 13:27:00] <schosin> I found issue [<-ISSUE->] which seems to be exactly my problem
[2021-03-19 15:44:36] <AndersClausen> Thank you very much for your help @scottfrederick - I tried what you suggested [<-CODE->] but unfortunately get this error: [<-CODE->] You're probably going to tell me that I've referenced the buildpacks wrong :-DI also created the binding folder and the files, so they are all in their right places.I see similar errors have been raised as issues on the Spring Boot GitHub repo but not sure if it's a known problem or something I've messed up.
[2021-03-19 15:49:10] <scottfrederick> This problem related to customizing buildpacks was reported in2.5.0-M2, and fixed in2.5.0-M3(released just last night). What version of Boot are you using?
[2021-03-19 15:50:12] <scottfrederick> the location referred to in a binding must be a directory that contains a file namedtypeand any other files that the binding should use. referring directly to the datadog.properties file won’t work.
[2021-03-19 15:51:21] <scottfrederick> (forgot to link to the bug with custom buidpacks: [<-ISSUE->] )
[2021-03-19 17:24:08] <AndersClausen> I'm using 2.5.0-SNAPSHOT but will delete it in .m2 folder to make sure it pulls down the latest.Oh I see, well silly me. I'll point to that directory then. I'll report back shortly
[2021-03-19 17:56:32] <AndersClausen> scottfrederick: I've pulled down the latest version but still getting the same error. Do you want me to raise an issue with Spring Boot or should I use the verbose flag to get more information?
[2021-03-19 18:08:05] <wilkinsona> As things stand, you'll have to make the jdbc transaction manager@Primaryif that's the one that you wantSpringTransactionProviderto use.  ArguablyJooqAutoConfiguration#transactionProvidershould be annotated with@ConditionalOnMissingBeanso that you can provide your own. That would then give you more flexibility over how the right transaction manager is identified. Please open an issue if that's something you'd like us to take a look at doing.
[2021-03-19 18:22:35] <scottfrederick> I can reproduce what you’re seeing. When the datadog binding is provided and properly formed, an image gets built. I can’t verify that datadog sets up the agent correctly, but I do get an image.
[2021-03-19 18:23:53] <scottfrederick> When the datadog binding does not exist or is not properly formed (e.g. with atypefile containingDatadogTrace), then I get theNo buildpack groups passed detection.. I think this is because the datadog bp should be marked as “optional” in its metadata.
[2021-03-19 18:24:10] <AndersClausen> Sorry Scott but did you mean to say that you can't reproduce what I'm seeing?
[2021-03-19 18:28:50] <scottfrederick> I’m not 100% certain you can mark a stand-alone bp “optional”, or if you can only do that for a list of bps provided by a meta-buildpack or composite buildpack. If you need this to work with and without thebindingset up for datadog, you might need a custom builder or custom meta-buildpack likepaketobuildpacks/javathat includes datadog in an order and marks it optional
[2021-03-19 18:29:02] <scottfrederick> Icanreproduce.
[2021-03-19 18:29:23] <scottfrederick> I can reproduce by omitting the binding. when providing the binding it works for me.
[2021-03-19 18:30:42] <AndersClausen> Thanks for confirming Scott. I just commented out the DD bp and can then build a successful image. I will speak to DD to see what we can do but other wise I'll have to do the custom builder, which sounds a bit more complicated lol
[2021-03-19 18:30:57] <AndersClausen> Have a great weekend and thanks for helping out
[2021-03-19 18:32:19] <scottfrederick> Happy to help. Have a good weekend.
[2021-03-20 02:51:09] <sadhasivam> Hi friends i am looking for some example on how to do retry using “WebClient”, Kotlin, Suspend, Await combination. i understand how to do this with normal mode. thoughts.  here is my current implementation.suspend fun te(request: tr): TResponse {
        return webClient.post().uri("/api/te").bodyValue(request).retrieve().awaitBody()
    }
[2021-03-20 13:53:17] <Asher2016> Hello, i have weird prob  that my controller accept any kind of object [<-CODE->] 
[2021-03-20 13:55:33] <Asher2016> and here the json i sent [<-CODE->] 
[2021-03-20 14:04:54] <legendjaks> Setconsumesproperty in@PostMappinglike@PostMapping(value = "/add”, consumes = {MediaType.APPLICATION_JSON_VALUE})
[2021-03-20 14:07:19] <Asher2016> i tried still the same
[2021-03-20 14:08:09] <Asher2016> it doesn't make sense as it must return 404 bad request instead lol
[2021-03-20 14:09:35] <legendjaks> Make sure you have proper validation rules set inCustomerclass like@NotBlank
[2021-03-20 14:10:38] <legendjaks> also spring-validation & javax validation jars in path
[2021-03-20 14:11:13] <legendjaks> its not about the input. It is how it matches with target object
[2021-03-20 14:11:28] <legendjaks> so unknown properties are ignored
[2021-03-20 14:12:16] <Asher2016> i dont have javax validation
[2021-03-20 14:12:21] <Asher2016> i am using maven
[2021-03-20 14:12:50] <Asher2016> i have just spring-boot-starter-validation
[2021-03-20 14:21:04] <legendjaks> try this dependencyjavax.validation:validation-api:2.0.1.Final
[2021-03-20 14:28:58] <Asher2016> i try it still not working
[2021-03-20 14:32:49] <Asher2016> i am using H2 database , i dont know if that change somthing
[2021-03-20 15:02:32] <legendjaks> No. your request itself should fail
[2021-03-20 15:02:50] <legendjaks> can you share sample project in github?
[2021-03-20 15:05:01] <Asher2016> how to share ?
[2021-03-20 15:05:20] <Asher2016> create project on github?
[2021-03-20 15:05:40] <legendjaks> yes
[2021-03-20 15:06:45] <Asher2016> ok hold on
[2021-03-20 15:24:09] <Asher2016>  [<-LINK->] 
[2021-03-20 15:55:47] <legendjaks> here is a working example [<-LINK->] 
[2021-03-20 16:02:31] <Asher2016> have you find the prob in my project ?
[2021-03-20 16:02:40] <Asher2016> how to figure out the problem ?
[2021-03-20 16:05:15] <Asher2016> i have seen your sample project and can't find the problem
[2021-03-20 16:05:16] <legendjaks> couple of ways. 1) compare the code 2) start from simple like one service & validation, then add step by step complexity and test. 3) unit tests
[2021-03-20 16:06:31] <Asher2016> your pom miss javax.validation:validation-api:2.0.1.Final
[2021-03-20 16:46:26] <Asher2016> thanks for your effort , i ve checked there is no difference that could make problem , its so weird really
[2021-03-20 16:50:33] <legendjaks> create a new project and start implementing step by step, you will find the error. some dependencies may be missing
[2021-03-20 16:54:48] <jnizet> Spring Boot, by default, configures Jackson to ignore unknown properties. So that's perfectly normal to be able to send unknown JSON properties. If you want some of the actual properties to be mandatory, then you need to add validation annotations on the fields of your Customer class. Do you have any?
[2021-03-20 17:02:52] <Asher2016> no , i m not using@validin any class
[2021-03-20 17:03:15] <Asher2016> i beleive the problem with spring version it self
[2021-03-20 17:56:58] <Asher2016> legendjaks: after testing your project i found out that i could send any data  that is not respect the model you created
[2021-03-20 20:01:22] <konstantinblaesi> Asher2016: the project from@legendjaksproject works for me. 405 for anything that's not POST and 400 for invalid request body
[2021-03-20 20:02:23] <konstantinblaesi> 415 for POST if I don't set content-type to application/json
[2021-03-20 20:02:47] <konstantinblaesi> everything seems as it should be
